function ig(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var zf={exports:{}},Zs={},Nf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),og=Symbol.for("react.portal"),sg=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),cg=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),Qh=Symbol.iterator;function mg(t){return t===null||typeof t!="object"?null:(t=Qh&&t[Qh]||t["@@iterator"],typeof t=="function"?t:null)}var jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bf=Object.assign,Df={};function Qi(t,e,n){this.props=t,this.context=e,this.refs=Df,this.updater=n||jf}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $f(){}$f.prototype=Qi.prototype;function ju(t,e,n){this.props=t,this.context=e,this.refs=Df,this.updater=n||jf}var Bu=ju.prototype=new $f;Bu.constructor=ju;Bf(Bu,Qi.prototype);Bu.isPureReactComponent=!0;var Yh=Array.isArray,Uf=Object.prototype.hasOwnProperty,Du={current:null},Ff={key:!0,ref:!0,__self:!0,__source:!0};function Zf(t,e,n){var r,s={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Uf.call(e,r)&&!Ff.hasOwnProperty(r)&&(s[r]=e[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];s.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:ao,type:t,key:a,ref:u,props:s,_owner:Du.current}}function _g(t,e){return{$$typeof:ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $u(t){return typeof t=="object"&&t!==null&&t.$$typeof===ao}function vg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xh=/\/+/g;function Ga(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vg(""+t.key):e.toString(36)}function is(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case ao:case og:u=!0}}if(u)return u=t,s=s(u),t=r===""?"."+Ga(u,0):r,Yh(s)?(n="",t!=null&&(n=t.replace(Xh,"$&/")+"/"),is(s,e,n,"",function(p){return p})):s!=null&&($u(s)&&(s=_g(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(Xh,"$&/")+"/")+t)),e.push(s)),1;if(u=0,r=r===""?".":r+":",Yh(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Ga(a,h);u+=is(a,e,n,d,s)}else if(d=mg(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Ga(a,h++),u+=is(a,e,n,d,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function No(t,e,n){if(t==null)return t;var r=[],s=0;return is(t,r,"","",function(a){return e.call(n,a,s++)}),r}function gg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},rs={transition:null},yg={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Du};function Wf(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!$u(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Qi;ee.Fragment=sg;ee.Profiler=lg;ee.PureComponent=ju;ee.StrictMode=ag;ee.Suspense=dg;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;ee.act=Wf;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bf({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Du.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Uf.call(e,d)&&!Ff.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:ao,type:t.type,key:s,ref:a,props:r,_owner:u}};ee.createContext=function(t){return t={$$typeof:cg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ug,_context:t},t.Consumer=t};ee.createElement=Zf;ee.createFactory=function(t){var e=Zf.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:hg,render:t}};ee.isValidElement=$u;ee.lazy=function(t){return{$$typeof:pg,_payload:{_status:-1,_result:t},_init:gg}};ee.memo=function(t,e){return{$$typeof:fg,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=rs.transition;rs.transition={};try{t()}finally{rs.transition=e}};ee.unstable_act=Wf;ee.useCallback=function(t,e){return Ke.current.useCallback(t,e)};ee.useContext=function(t){return Ke.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Ke.current.useEffect(t,e)};ee.useId=function(){return Ke.current.useId()};ee.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Ke.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};ee.useRef=function(t){return Ke.current.useRef(t)};ee.useState=function(t){return Ke.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Ke.current.useTransition()};ee.version="18.3.1";Nf.exports=ee;var B=Nf.exports;const Fr=Mf(B),wg=ig({__proto__:null,default:Fr},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=B,kg=Symbol.for("react.element"),xg=Symbol.for("react.fragment"),Pg=Object.prototype.hasOwnProperty,Eg=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tg={key:!0,ref:!0,__self:!0,__source:!0};function Hf(t,e,n){var r,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)Pg.call(e,r)&&!Tg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:kg,type:t,key:a,ref:u,props:s,_owner:Eg.current}}Zs.Fragment=xg;Zs.jsx=Hf;Zs.jsxs=Hf;zf.exports=Zs;var V=zf.exports,bl={},Vf={exports:{}},ct={},qf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,H){var j=I.length;I.push(H);e:for(;0<j;){var W=j-1>>>1,ne=I[W];if(0<s(ne,H))I[W]=H,I[j]=ne,j=W;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],j=I.pop();if(j!==H){I[0]=j;e:for(var W=0,ne=I.length,Te=ne>>>1;W<Te;){var le=2*(W+1)-1,re=I[le],K=le+1,Je=I[K];if(0>s(re,j))K<ne&&0>s(Je,re)?(I[W]=Je,I[K]=j,W=K):(I[W]=re,I[le]=j,W=le);else if(K<ne&&0>s(Je,j))I[W]=Je,I[K]=j,W=K;else break e}}return H}function s(I,H){var j=I.sortIndex-H.sortIndex;return j!==0?j:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,v=null,w=3,x=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var H=n(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=I)r(p),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(p)}}function C(I){if(T=!1,g(I),!E)if(n(d)!==null)E=!0,ze(R);else{var H=n(p);H!==null&&Zt(C,H.startTime-I)}}function R(I,H){E=!1,T&&(T=!1,k(U),U=-1),x=!0;var j=w;try{for(g(H),v=n(d);v!==null&&(!(v.expirationTime>H)||I&&!se());){var W=v.callback;if(typeof W=="function"){v.callback=null,w=v.priorityLevel;var ne=W(v.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?v.callback=ne:v===n(d)&&r(d),g(H)}else r(d);v=n(d)}if(v!==null)var Te=!0;else{var le=n(p);le!==null&&Zt(C,le.startTime-H),Te=!1}return Te}finally{v=null,w=j,x=!1}}var M=!1,N=null,U=-1,ue=5,q=-1;function se(){return!(t.unstable_now()-q<ue)}function Ie(){if(N!==null){var I=t.unstable_now();q=I;var H=!0;try{H=N(!0,I)}finally{H?Nn():(M=!1,N=null)}}else M=!1}var Nn;if(typeof y=="function")Nn=function(){y(Ie)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,pa=dt.port2;dt.port1.onmessage=Ie,Nn=function(){pa.postMessage(null)}}else Nn=function(){O(Ie,0)};function ze(I){N=I,M||(M=!0,Nn())}function Zt(I,H){U=O(function(){I(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){E||x||(E=!0,ze(R))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var j=w;w=H;try{return I()}finally{w=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=w;w=I;try{return H()}finally{w=j}},t.unstable_scheduleCallback=function(I,H,j){var W=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?W+j:W):j=W,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,I={id:_++,callback:H,priorityLevel:I,startTime:j,expirationTime:ne,sortIndex:-1},j>W?(I.sortIndex=j,e(p,I),n(d)===null&&I===n(p)&&(T?(k(U),U=-1):T=!0,Zt(C,j-W))):(I.sortIndex=ne,e(d,I),E||x||(E=!0,ze(R))),I},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(I){var H=w;return function(){var j=w;w=H;try{return I.apply(this,arguments)}finally{w=j}}}})(Kf);qf.exports=Kf;var Cg=qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=B,ut=Cg;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gf=new Set,Zr={};function ri(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Zr[t]=e,t=0;t<e.length;t++)Gf.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=Object.prototype.hasOwnProperty,bg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function Og(t){return Ol.call(td,t)?!0:Ol.call(ed,t)?!1:bg.test(t)?td[t]=!0:(ed[t]=!0,!1)}function Ig(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ag(t,e,n,r){if(e===null||typeof e>"u"||Ig(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,r,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uu=/[\-:]([a-z])/g;function Fu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uu,Fu);De[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uu,Fu);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uu,Fu);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zu(t,e,n,r){var s=De.hasOwnProperty(e)?De[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ag(e,n,s,r)&&(n=null),r||s===null?Og(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sn=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Il=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Yf=Symbol.for("react.offscreen"),nd=Symbol.iterator;function _r(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Ja;function Er(t){if(Ja===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ja=e&&e[1]||""}return`
`+Ja+t}var Qa=!1;function Ya(t,e){if(!t||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),u=s.length-1,h=a.length-1;1<=u&&0<=h&&s[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(s[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||s[u]!==a[h]){var d=`
`+s[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Er(t):""}function Rg(t){switch(t.tag){case 5:return Er(t.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return t=Ya(t.type,!1),t;case 11:return t=Ya(t.type.render,!1),t;case 1:return t=Ya(t.type,!0),t;default:return""}}function Ml(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case Pi:return"Portal";case Il:return"Profiler";case Wu:return"StrictMode";case Al:return"Suspense";case Rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qf:return(t.displayName||"Context")+".Consumer";case Jf:return(t._context.displayName||"Context")+".Provider";case Hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vu:return e=t.displayName||null,e!==null?e:Ml(t.type)||"Memo";case pn:e=t._payload,t=t._init;try{return Ml(t(e))}catch{}}return null}function Mg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ml(e);case 8:return e===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zg(t){var e=Xf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=zg(t))}function ep(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Xf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zl(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function id(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tp(t,e){e=e.checked,e!=null&&Zu(t,"checked",e,!1)}function Nl(t,e){tp(t,e);var n=On(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&jl(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jl(t,e,n){(e!=="number"||ms(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tr=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function od(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Tr(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function np(t,e){var n=On(e.value),r=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ip(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ip(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Do,rp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Do.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ng=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(t){Ng.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Or[e]=Or[t]})});function op(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Or.hasOwnProperty(t)&&Or[t]?(""+e).trim():e+"px"}function sp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=op(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jg=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,e){if(e){if(jg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ul(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zl=null,ji=null,Bi=null;function ad(t){if(t=co(t)){if(typeof Zl!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ks(e),Zl(t.stateNode,t.type,e))}}function ap(t){ji?Bi?Bi.push(t):Bi=[t]:ji=t}function lp(){if(ji){var t=ji,e=Bi;if(Bi=ji=null,ad(t),e)for(t=0;t<e.length;t++)ad(e[t])}}function up(t,e){return t(e)}function cp(){}var Xa=!1;function hp(t,e,n){if(Xa)return t(e,n);Xa=!0;try{return up(t,e,n)}finally{Xa=!1,(ji!==null||Bi!==null)&&(cp(),lp())}}function Hr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ks(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Wl=!1;if(tn)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Wl=!1}function Bg(t,e,n,r,s,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(_){this.onError(_)}}var Ir=!1,_s=null,vs=!1,Hl=null,Dg={onError:function(t){Ir=!0,_s=t}};function $g(t,e,n,r,s,a,u,h,d){Ir=!1,_s=null,Bg.apply(Dg,arguments)}function Ug(t,e,n,r,s,a,u,h,d){if($g.apply(this,arguments),Ir){if(Ir){var p=_s;Ir=!1,_s=null}else throw Error(z(198));vs||(vs=!0,Hl=p)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ld(t){if(oi(t)!==t)throw Error(z(188))}function Fg(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return ld(s),t;if(a===r)return ld(s),e;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=a;else{for(var u=!1,h=s.child;h;){if(h===n){u=!0,n=s,r=a;break}if(h===r){u=!0,r=s,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=s;break}if(h===r){u=!0,r=a,n=s;break}h=h.sibling}if(!u)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function fp(t){return t=Fg(t),t!==null?pp(t):null}function pp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pp(t);if(e!==null)return e;t=t.sibling}return null}var mp=ut.unstable_scheduleCallback,ud=ut.unstable_cancelCallback,Zg=ut.unstable_shouldYield,Wg=ut.unstable_requestPaint,ke=ut.unstable_now,Hg=ut.unstable_getCurrentPriorityLevel,Ku=ut.unstable_ImmediatePriority,_p=ut.unstable_UserBlockingPriority,gs=ut.unstable_NormalPriority,Vg=ut.unstable_LowPriority,vp=ut.unstable_IdlePriority,Ws=null,Ut=null;function qg(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ws,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Jg,Kg=Math.log,Gg=Math.LN2;function Jg(t){return t>>>=0,t===0?32:31-(Kg(t)/Gg|0)|0}var $o=64,Uo=4194304;function Cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ys(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~s;h!==0?r=Cr(h):(a&=u,a!==0&&(r=Cr(a)))}else u=n&~s,u!==0?r=Cr(u):a!==0&&(r=Cr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),s=1<<n,r|=t[n],e&=~s;return r}function Qg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-Ot(a),h=1<<u,d=s[u];d===-1?(!(h&n)||h&r)&&(s[u]=Qg(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function Vl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gp(){var t=$o;return $o<<=1,!($o&4194240)&&($o=64),t}function el(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function Xg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ot(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function Gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ae=0;function yp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wp,Ju,Sp,kp,xp,ql=!1,Fo=[],kn=null,xn=null,Pn=null,Vr=new Map,qr=new Map,_n=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Vr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(e.pointerId)}}function gr(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=co(e),e!==null&&Ju(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ty(t,e,n,r,s){switch(e){case"focusin":return kn=gr(kn,t,e,n,r,s),!0;case"dragenter":return xn=gr(xn,t,e,n,r,s),!0;case"mouseover":return Pn=gr(Pn,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Vr.set(a,gr(Vr.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,qr.set(a,gr(qr.get(a)||null,t,e,n,r,s)),!0}return!1}function Pp(t){var e=Kn(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=dp(n),e!==null){t.blockedOn=e,xp(t.priority,function(){Sp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return e=co(n),e!==null&&Ju(e),t.blockedOn=n,!1;e.shift()}return!0}function hd(t,e,n){os(t)&&n.delete(e)}function ny(){ql=!1,kn!==null&&os(kn)&&(kn=null),xn!==null&&os(xn)&&(xn=null),Pn!==null&&os(Pn)&&(Pn=null),Vr.forEach(hd),qr.forEach(hd)}function yr(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,ny)))}function Kr(t){function e(s){return yr(s,t)}if(0<Fo.length){yr(Fo[0],t);for(var n=1;n<Fo.length;n++){var r=Fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&yr(kn,t),xn!==null&&yr(xn,t),Pn!==null&&yr(Pn,t),Vr.forEach(e),qr.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)Pp(n),n.blockedOn===null&&_n.shift()}var Di=sn.ReactCurrentBatchConfig,ws=!0;function iy(t,e,n,r){var s=ae,a=Di.transition;Di.transition=null;try{ae=1,Qu(t,e,n,r)}finally{ae=s,Di.transition=a}}function ry(t,e,n,r){var s=ae,a=Di.transition;Di.transition=null;try{ae=4,Qu(t,e,n,r)}finally{ae=s,Di.transition=a}}function Qu(t,e,n,r){if(ws){var s=Kl(t,e,n,r);if(s===null)cl(t,e,r,Ss,n),cd(t,r);else if(ty(s,t,e,n,r))r.stopPropagation();else if(cd(t,r),e&4&&-1<ey.indexOf(t)){for(;s!==null;){var a=co(s);if(a!==null&&wp(a),a=Kl(t,e,n,r),a===null&&cl(t,e,r,Ss,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else cl(t,e,r,null,n)}}var Ss=null;function Kl(t,e,n,r){if(Ss=null,t=qu(r),t=Kn(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ss=t,null}function Ep(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hg()){case Ku:return 1;case _p:return 4;case gs:case Vg:return 16;case vp:return 536870912;default:return 16}default:return 16}}var yn=null,Yu=null,ss=null;function Tp(){if(ss)return ss;var t,e=Yu,n=e.length,r,s="value"in yn?yn.value:yn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===s[a-r];r++);return ss=s.slice(t,1<r?1-r:void 0)}function as(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zo(){return!0}function dd(){return!1}function ht(t){function e(n,r,s,a,u){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zo:dd,this.isPropagationStopped=dd,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),e}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=ht(Yi),uo=ye({},Yi,{view:0,detail:0}),oy=ht(uo),tl,nl,wr,Hs=ye({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(tl=t.screenX-wr.screenX,nl=t.screenY-wr.screenY):nl=tl=0,wr=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:nl}}),fd=ht(Hs),sy=ye({},Hs,{dataTransfer:0}),ay=ht(sy),ly=ye({},uo,{relatedTarget:0}),il=ht(ly),uy=ye({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=ht(uy),hy=ye({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dy=ht(hy),fy=ye({},Yi,{data:0}),pd=ht(fy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_y[t])?!!e[t]:!1}function ec(){return vy}var gy=ye({},uo,{key:function(t){if(t.key){var e=py[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?my[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yy=ht(gy),wy=ye({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=ht(wy),Sy=ye({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),ky=ht(Sy),xy=ye({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Py=ht(xy),Ey=ye({},Hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=ht(Ey),Cy=[9,13,27,32],tc=tn&&"CompositionEvent"in window,Ar=null;tn&&"documentMode"in document&&(Ar=document.documentMode);var Ly=tn&&"TextEvent"in window&&!Ar,Cp=tn&&(!tc||Ar&&8<Ar&&11>=Ar),_d=" ",vd=!1;function Lp(t,e){switch(t){case"keyup":return Cy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function by(t,e){switch(t){case"compositionend":return bp(e);case"keypress":return e.which!==32?null:(vd=!0,_d);case"textInput":return t=e.data,t===_d&&vd?null:t;default:return null}}function Oy(t,e){if(Ti)return t==="compositionend"||!tc&&Lp(t,e)?(t=Tp(),ss=Yu=yn=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cp&&e.locale!=="ko"?null:e.data;default:return null}}var Iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iy[t.type]:e==="textarea"}function Op(t,e,n,r){ap(r),e=ks(e,"onChange"),0<e.length&&(n=new Xu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rr=null,Gr=null;function Ay(t){Up(t,0)}function Vs(t){var e=bi(t);if(ep(e))return t}function Ry(t,e){if(t==="change")return e}var Ip=!1;if(tn){var rl;if(tn){var ol="oninput"in document;if(!ol){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),ol=typeof yd.oninput=="function"}rl=ol}else rl=!1;Ip=rl&&(!document.documentMode||9<document.documentMode)}function wd(){Rr&&(Rr.detachEvent("onpropertychange",Ap),Gr=Rr=null)}function Ap(t){if(t.propertyName==="value"&&Vs(Gr)){var e=[];Op(e,Gr,t,qu(t)),hp(Ay,e)}}function My(t,e,n){t==="focusin"?(wd(),Rr=e,Gr=n,Rr.attachEvent("onpropertychange",Ap)):t==="focusout"&&wd()}function zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vs(Gr)}function Ny(t,e){if(t==="click")return Vs(e)}function jy(t,e){if(t==="input"||t==="change")return Vs(e)}function By(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:By;function Jr(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ol.call(e,s)||!At(t[s],e[s]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,e){var n=Sd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sd(n)}}function Rp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mp(){for(var t=window,e=ms();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ms(t.document)}return e}function nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dy(t){var e=Mp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rp(n.ownerDocument.documentElement,n)){if(r!==null&&nc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=kd(n,a);var u=kd(n,r);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $y=tn&&"documentMode"in document&&11>=document.documentMode,Ci=null,Gl=null,Mr=null,Jl=!1;function xd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jl||Ci==null||Ci!==ms(r)||(r=Ci,"selectionStart"in r&&nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&Jr(Mr,r)||(Mr=r,r=ks(Gl,"onSelect"),0<r.length&&(e=new Xu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ci)))}function Wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},sl={},zp={};tn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function qs(t){if(sl[t])return sl[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zp)return sl[t]=e[n];return t}var Np=qs("animationend"),jp=qs("animationiteration"),Bp=qs("animationstart"),Dp=qs("transitionend"),$p=new Map,Pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){$p.set(t,e),ri(e,[t])}for(var al=0;al<Pd.length;al++){var ll=Pd[al],Uy=ll.toLowerCase(),Fy=ll[0].toUpperCase()+ll.slice(1);An(Uy,"on"+Fy)}An(Np,"onAnimationEnd");An(jp,"onAnimationIteration");An(Bp,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Dp,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ed(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ug(r,e,void 0,t),t.currentTarget=null}function Up(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&s.isPropagationStopped())break e;Ed(s,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&s.isPropagationStopped())break e;Ed(s,h,p),a=d}}}if(vs)throw t=Hl,vs=!1,Hl=null,t}function fe(t,e){var n=e[tu];n===void 0&&(n=e[tu]=new Set);var r=t+"__bubble";n.has(r)||(Fp(e,t,2,!1),n.add(r))}function ul(t,e,n){var r=0;e&&(r|=4),Fp(n,t,r,e)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function Qr(t){if(!t[Ho]){t[Ho]=!0,Gf.forEach(function(n){n!=="selectionchange"&&(Zy.has(n)||ul(n,!1,t),ul(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ho]||(e[Ho]=!0,ul("selectionchange",!1,e))}}function Fp(t,e,n,r){switch(Ep(e)){case 1:var s=iy;break;case 4:s=ry;break;default:s=Qu}n=s.bind(null,e,n,t),s=void 0,!Wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cl(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;u=u.return}for(;h!==null;){if(u=Kn(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}hp(function(){var p=a,_=qu(n),v=[];e:{var w=$p.get(t);if(w!==void 0){var x=Xu,E=t;switch(t){case"keypress":if(as(n)===0)break e;case"keydown":case"keyup":x=yy;break;case"focusin":E="focus",x=il;break;case"focusout":E="blur",x=il;break;case"beforeblur":case"afterblur":x=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ky;break;case Np:case jp:case Bp:x=cy;break;case Dp:x=Py;break;case"scroll":x=oy;break;case"wheel":x=Ty;break;case"copy":case"cut":case"paste":x=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=md}var T=(e&4)!==0,O=!T&&t==="scroll",k=T?w!==null?w+"Capture":null:w;T=[];for(var y=p,g;y!==null;){g=y;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,k!==null&&(C=Hr(y,k),C!=null&&T.push(Yr(y,C,g)))),O)break;y=y.return}0<T.length&&(w=new x(w,E,null,n,_),v.push({event:w,listeners:T}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",w&&n!==Fl&&(E=n.relatedTarget||n.fromElement)&&(Kn(E)||E[nn]))break e;if((x||w)&&(w=_.window===_?_:(w=_.ownerDocument)?w.defaultView||w.parentWindow:window,x?(E=n.relatedTarget||n.toElement,x=p,E=E?Kn(E):null,E!==null&&(O=oi(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=p),x!==E)){if(T=fd,C="onMouseLeave",k="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=md,C="onPointerLeave",k="onPointerEnter",y="pointer"),O=x==null?w:bi(x),g=E==null?w:bi(E),w=new T(C,y+"leave",x,n,_),w.target=O,w.relatedTarget=g,C=null,Kn(_)===p&&(T=new T(k,y+"enter",E,n,_),T.target=g,T.relatedTarget=O,C=T),O=C,x&&E)t:{for(T=x,k=E,y=0,g=T;g;g=_i(g))y++;for(g=0,C=k;C;C=_i(C))g++;for(;0<y-g;)T=_i(T),y--;for(;0<g-y;)k=_i(k),g--;for(;y--;){if(T===k||k!==null&&T===k.alternate)break t;T=_i(T),k=_i(k)}T=null}else T=null;x!==null&&Td(v,w,x,T,!1),E!==null&&O!==null&&Td(v,O,E,T,!0)}}e:{if(w=p?bi(p):window,x=w.nodeName&&w.nodeName.toLowerCase(),x==="select"||x==="input"&&w.type==="file")var R=Ry;else if(gd(w))if(Ip)R=jy;else{R=zy;var M=My}else(x=w.nodeName)&&x.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(R=Ny);if(R&&(R=R(t,p))){Op(v,R,n,_);break e}M&&M(t,w,p),t==="focusout"&&(M=w._wrapperState)&&M.controlled&&w.type==="number"&&jl(w,"number",w.value)}switch(M=p?bi(p):window,t){case"focusin":(gd(M)||M.contentEditable==="true")&&(Ci=M,Gl=p,Mr=null);break;case"focusout":Mr=Gl=Ci=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,xd(v,n,_);break;case"selectionchange":if($y)break;case"keydown":case"keyup":xd(v,n,_)}var N;if(tc)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ti?Lp(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Cp&&n.locale!=="ko"&&(Ti||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ti&&(N=Tp()):(yn=_,Yu="value"in yn?yn.value:yn.textContent,Ti=!0)),M=ks(p,U),0<M.length&&(U=new pd(U,t,null,n,_),v.push({event:U,listeners:M}),N?U.data=N:(N=bp(n),N!==null&&(U.data=N)))),(N=Ly?by(t,n):Oy(t,n))&&(p=ks(p,"onBeforeInput"),0<p.length&&(_=new pd("onBeforeInput","beforeinput",null,n,_),v.push({event:_,listeners:p}),_.data=N))}Up(v,e)})}function Yr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ks(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Hr(t,n),a!=null&&r.unshift(Yr(t,a,s)),a=Hr(t,e),a!=null&&r.push(Yr(t,a,s))),t=t.return}return r}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Td(t,e,n,r,s){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,s?(d=Hr(n,a),d!=null&&u.unshift(Yr(n,d,h))):s||(d=Hr(n,a),d!=null&&u.push(Yr(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Wy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function Cd(t){return(typeof t=="string"?t:""+t).replace(Wy,`
`).replace(Hy,"")}function Vo(t,e,n){if(e=Cd(e),Cd(t)!==e&&n)throw Error(z(425))}function xs(){}var Ql=null,Yl=null;function Xl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(t){return Ld.resolve(null).then(t).catch(Ky)}:eu;function Ky(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kr(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),$t="__reactFiber$"+Xi,Xr="__reactProps$"+Xi,nn="__reactContainer$"+Xi,tu="__reactEvents$"+Xi,Gy="__reactListeners$"+Xi,Jy="__reactHandles$"+Xi;function Kn(t){var e=t[$t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[$t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bd(t);t!==null;){if(n=t[$t])return n;t=bd(t)}return e}t=n,n=t.parentNode}return null}function co(t){return t=t[$t]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ks(t){return t[Xr]||null}var nu=[],Oi=-1;function Rn(t){return{current:t}}function pe(t){0>Oi||(t.current=nu[Oi],nu[Oi]=null,Oi--)}function de(t,e){Oi++,nu[Oi]=t.current,t.current=e}var In={},Ze=Rn(In),tt=Rn(!1),Xn=In;function Wi(t,e){var n=t.type.contextTypes;if(!n)return In;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nt(t){return t=t.childContextTypes,t!=null}function Ps(){pe(tt),pe(Ze)}function Od(t,e,n){if(Ze.current!==In)throw Error(z(168));de(Ze,e),de(tt,n)}function Zp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,Mg(t)||"Unknown",s));return ye({},n,r)}function Es(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,Xn=Ze.current,de(Ze,t),de(tt,tt.current),!0}function Id(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Zp(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,pe(tt),pe(Ze),de(Ze,t)):pe(tt),de(tt,n)}var Qt=null,Gs=!1,dl=!1;function Wp(t){Qt===null?Qt=[t]:Qt.push(t)}function Qy(t){Gs=!0,Wp(t)}function Mn(){if(!dl&&Qt!==null){dl=!0;var t=0,e=ae;try{var n=Qt;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qt=null,Gs=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(t+1)),mp(Ku,Mn),s}finally{ae=e,dl=!1}}return null}var Ii=[],Ai=0,Ts=null,Cs=0,_t=[],vt=0,ei=null,Yt=1,Xt="";function Wn(t,e){Ii[Ai++]=Cs,Ii[Ai++]=Ts,Ts=t,Cs=e}function Hp(t,e,n){_t[vt++]=Yt,_t[vt++]=Xt,_t[vt++]=ei,ei=t;var r=Yt;t=Xt;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var a=32-Ot(e)+s;if(30<a){var u=s-s%5;a=(r&(1<<u)-1).toString(32),r>>=u,s-=u,Yt=1<<32-Ot(e)+s|n<<s|r,Xt=a+t}else Yt=1<<a|n<<s|r,Xt=t}function ic(t){t.return!==null&&(Wn(t,1),Hp(t,1,0))}function rc(t){for(;t===Ts;)Ts=Ii[--Ai],Ii[Ai]=null,Cs=Ii[--Ai],Ii[Ai]=null;for(;t===ei;)ei=_t[--vt],_t[vt]=null,Xt=_t[--vt],_t[vt]=null,Yt=_t[--vt],_t[vt]=null}var at=null,st=null,me=!1,bt=null;function Vp(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ad(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,st=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ei!==null?{id:Yt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,at=t,st=null,!0):!1;default:return!1}}function iu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ru(t){if(me){var e=st;if(e){var n=e;if(!Ad(t,e)){if(iu(t))throw Error(z(418));e=En(n.nextSibling);var r=at;e&&Ad(t,e)?Vp(r,n):(t.flags=t.flags&-4097|2,me=!1,at=t)}}else{if(iu(t))throw Error(z(418));t.flags=t.flags&-4097|2,me=!1,at=t}}}function Rd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function qo(t){if(t!==at)return!1;if(!me)return Rd(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xl(t.type,t.memoizedProps)),e&&(e=st)){if(iu(t))throw qp(),Error(z(418));for(;e;)Vp(t,e),e=En(e.nextSibling)}if(Rd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=at?En(t.stateNode.nextSibling):null;return!0}function qp(){for(var t=st;t;)t=En(t.nextSibling)}function Hi(){st=at=null,me=!1}function oc(t){bt===null?bt=[t]:bt.push(t)}var Yy=sn.ReactCurrentBatchConfig;function Sr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=s.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Md(t){var e=t._init;return e(t._payload)}function Kp(t){function e(k,y){if(t){var g=k.deletions;g===null?(k.deletions=[y],k.flags|=16):g.push(y)}}function n(k,y){if(!t)return null;for(;y!==null;)e(k,y),y=y.sibling;return null}function r(k,y){for(k=new Map;y!==null;)y.key!==null?k.set(y.key,y):k.set(y.index,y),y=y.sibling;return k}function s(k,y){return k=bn(k,y),k.index=0,k.sibling=null,k}function a(k,y,g){return k.index=g,t?(g=k.alternate,g!==null?(g=g.index,g<y?(k.flags|=2,y):g):(k.flags|=2,y)):(k.flags|=1048576,y)}function u(k){return t&&k.alternate===null&&(k.flags|=2),k}function h(k,y,g,C){return y===null||y.tag!==6?(y=yl(g,k.mode,C),y.return=k,y):(y=s(y,g),y.return=k,y)}function d(k,y,g,C){var R=g.type;return R===Ei?_(k,y,g.props.children,C,g.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===pn&&Md(R)===y.type)?(C=s(y,g.props),C.ref=Sr(k,y,g),C.return=k,C):(C=ps(g.type,g.key,g.props,null,k.mode,C),C.ref=Sr(k,y,g),C.return=k,C)}function p(k,y,g,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=wl(g,k.mode,C),y.return=k,y):(y=s(y,g.children||[]),y.return=k,y)}function _(k,y,g,C,R){return y===null||y.tag!==7?(y=Yn(g,k.mode,C,R),y.return=k,y):(y=s(y,g),y.return=k,y)}function v(k,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yl(""+y,k.mode,g),y.return=k,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:return g=ps(y.type,y.key,y.props,null,k.mode,g),g.ref=Sr(k,null,y),g.return=k,g;case Pi:return y=wl(y,k.mode,g),y.return=k,y;case pn:var C=y._init;return v(k,C(y._payload),g)}if(Tr(y)||_r(y))return y=Yn(y,k.mode,g,null),y.return=k,y;Ko(k,y)}return null}function w(k,y,g,C){var R=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return R!==null?null:h(k,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case jo:return g.key===R?d(k,y,g,C):null;case Pi:return g.key===R?p(k,y,g,C):null;case pn:return R=g._init,w(k,y,R(g._payload),C)}if(Tr(g)||_r(g))return R!==null?null:_(k,y,g,C,null);Ko(k,g)}return null}function x(k,y,g,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return k=k.get(g)||null,h(y,k,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jo:return k=k.get(C.key===null?g:C.key)||null,d(y,k,C,R);case Pi:return k=k.get(C.key===null?g:C.key)||null,p(y,k,C,R);case pn:var M=C._init;return x(k,y,g,M(C._payload),R)}if(Tr(C)||_r(C))return k=k.get(g)||null,_(y,k,C,R,null);Ko(y,C)}return null}function E(k,y,g,C){for(var R=null,M=null,N=y,U=y=0,ue=null;N!==null&&U<g.length;U++){N.index>U?(ue=N,N=null):ue=N.sibling;var q=w(k,N,g[U],C);if(q===null){N===null&&(N=ue);break}t&&N&&q.alternate===null&&e(k,N),y=a(q,y,U),M===null?R=q:M.sibling=q,M=q,N=ue}if(U===g.length)return n(k,N),me&&Wn(k,U),R;if(N===null){for(;U<g.length;U++)N=v(k,g[U],C),N!==null&&(y=a(N,y,U),M===null?R=N:M.sibling=N,M=N);return me&&Wn(k,U),R}for(N=r(k,N);U<g.length;U++)ue=x(N,k,U,g[U],C),ue!==null&&(t&&ue.alternate!==null&&N.delete(ue.key===null?U:ue.key),y=a(ue,y,U),M===null?R=ue:M.sibling=ue,M=ue);return t&&N.forEach(function(se){return e(k,se)}),me&&Wn(k,U),R}function T(k,y,g,C){var R=_r(g);if(typeof R!="function")throw Error(z(150));if(g=R.call(g),g==null)throw Error(z(151));for(var M=R=null,N=y,U=y=0,ue=null,q=g.next();N!==null&&!q.done;U++,q=g.next()){N.index>U?(ue=N,N=null):ue=N.sibling;var se=w(k,N,q.value,C);if(se===null){N===null&&(N=ue);break}t&&N&&se.alternate===null&&e(k,N),y=a(se,y,U),M===null?R=se:M.sibling=se,M=se,N=ue}if(q.done)return n(k,N),me&&Wn(k,U),R;if(N===null){for(;!q.done;U++,q=g.next())q=v(k,q.value,C),q!==null&&(y=a(q,y,U),M===null?R=q:M.sibling=q,M=q);return me&&Wn(k,U),R}for(N=r(k,N);!q.done;U++,q=g.next())q=x(N,k,U,q.value,C),q!==null&&(t&&q.alternate!==null&&N.delete(q.key===null?U:q.key),y=a(q,y,U),M===null?R=q:M.sibling=q,M=q);return t&&N.forEach(function(Ie){return e(k,Ie)}),me&&Wn(k,U),R}function O(k,y,g,C){if(typeof g=="object"&&g!==null&&g.type===Ei&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case jo:e:{for(var R=g.key,M=y;M!==null;){if(M.key===R){if(R=g.type,R===Ei){if(M.tag===7){n(k,M.sibling),y=s(M,g.props.children),y.return=k,k=y;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===pn&&Md(R)===M.type){n(k,M.sibling),y=s(M,g.props),y.ref=Sr(k,M,g),y.return=k,k=y;break e}n(k,M);break}else e(k,M);M=M.sibling}g.type===Ei?(y=Yn(g.props.children,k.mode,C,g.key),y.return=k,k=y):(C=ps(g.type,g.key,g.props,null,k.mode,C),C.ref=Sr(k,y,g),C.return=k,k=C)}return u(k);case Pi:e:{for(M=g.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(k,y.sibling),y=s(y,g.children||[]),y.return=k,k=y;break e}else{n(k,y);break}else e(k,y);y=y.sibling}y=wl(g,k.mode,C),y.return=k,k=y}return u(k);case pn:return M=g._init,O(k,y,M(g._payload),C)}if(Tr(g))return E(k,y,g,C);if(_r(g))return T(k,y,g,C);Ko(k,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(k,y.sibling),y=s(y,g),y.return=k,k=y):(n(k,y),y=yl(g,k.mode,C),y.return=k,k=y),u(k)):n(k,y)}return O}var Vi=Kp(!0),Gp=Kp(!1),Ls=Rn(null),bs=null,Ri=null,sc=null;function ac(){sc=Ri=bs=null}function lc(t){var e=Ls.current;pe(Ls),t._currentValue=e}function ou(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){bs=t,sc=Ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(sc!==t)if(t={context:t,memoizedValue:e,next:null},Ri===null){if(bs===null)throw Error(z(308));Ri=t,bs.dependencies={lanes:0,firstContext:t}}else Ri=Ri.next=t;return e}var Gn=null;function uc(t){Gn===null?Gn=[t]:Gn.push(t)}function Jp(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,uc(e)):(n.next=s.next,s.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mn=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rn(t,n)}return s=r.interleaved,s===null?(e.next=e,uc(r)):(e.next=s.next,s.next=e),r.interleaved=e,rn(t,n)}function ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}function zd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Os(t,e,n,r){var s=t.updateQueue;mn=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var _=t.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==u&&(h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=d))}if(a!==null){var v=s.baseState;u=0,_=p=d=null,h=a;do{var w=h.lane,x=h.eventTime;if((r&w)===w){_!==null&&(_=_.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var E=t,T=h;switch(w=e,x=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){v=E.call(x,v,w);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,w=typeof E=="function"?E.call(x,v,w):E,w==null)break e;v=ye({},v,w);break e;case 2:mn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,w=s.effects,w===null?s.effects=[h]:w.push(h))}else x={eventTime:x,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(p=_=x,d=v):_=_.next=x,u|=w;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;w=h,h=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(_===null&&(d=v),s.baseState=d,s.firstBaseUpdate=p,s.lastBaseUpdate=_,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);ni|=u,t.lanes=u,t.memoizedState=v}}function Nd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var ho={},Ft=Rn(ho),eo=Rn(ho),to=Rn(ho);function Jn(t){if(t===ho)throw Error(z(174));return t}function hc(t,e){switch(de(to,e),de(eo,t),de(Ft,ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dl(e,t)}pe(Ft),de(Ft,e)}function qi(){pe(Ft),pe(eo),pe(to)}function Yp(t){Jn(to.current);var e=Jn(Ft.current),n=Dl(e,t.type);e!==n&&(de(eo,t),de(Ft,n))}function dc(t){eo.current===t&&(pe(Ft),pe(eo))}var ve=Rn(0);function Is(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fl=[];function fc(){for(var t=0;t<fl.length;t++)fl[t]._workInProgressVersionPrimary=null;fl.length=0}var us=sn.ReactCurrentDispatcher,pl=sn.ReactCurrentBatchConfig,ti=0,ge=null,be=null,Re=null,As=!1,zr=!1,no=0,Xy=0;function $e(){throw Error(z(321))}function pc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!At(t[n],e[n]))return!1;return!0}function mc(t,e,n,r,s,a){if(ti=a,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,us.current=t===null||t.memoizedState===null?iw:rw,t=n(r,s),zr){a=0;do{if(zr=!1,no=0,25<=a)throw Error(z(301));a+=1,Re=be=null,e.updateQueue=null,us.current=ow,t=n(r,s)}while(zr)}if(us.current=Rs,e=be!==null&&be.next!==null,ti=0,Re=be=ge=null,As=!1,e)throw Error(z(300));return t}function _c(){var t=no!==0;return no=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=t:Re=Re.next=t,Re}function St(){if(be===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Re===null?ge.memoizedState:Re.next;if(e!==null)Re=e,be=t;else{if(t===null)throw Error(z(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Re===null?ge.memoizedState=Re=t:Re=Re.next=t}return Re}function io(t,e){return typeof e=="function"?e(t):e}function ml(t){var e=St(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=be,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=u=null,d=null,p=a;do{var _=p.lane;if((ti&_)===_)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var v={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=v,u=r):d=d.next=v,ge.lanes|=_,ni|=_}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,At(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,ge.lanes|=a,ni|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _l(t){var e=St(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);At(a,e.memoizedState)||(et=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Xp(){}function em(t,e){var n=ge,r=St(),s=e(),a=!At(r.memoizedState,s);if(a&&(r.memoizedState=s,et=!0),r=r.queue,vc(im.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,ro(9,nm.bind(null,n,r,s,e),void 0,null),Me===null)throw Error(z(349));ti&30||tm(n,e,s)}return s}function tm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nm(t,e,n,r){e.value=n,e.getSnapshot=r,rm(e)&&om(t)}function im(t,e,n){return n(function(){rm(e)&&om(t)})}function rm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!At(t,n)}catch{return!0}}function om(t){var e=rn(t,1);e!==null&&It(e,t,1,-1)}function jd(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},e.queue=t,t=t.dispatch=nw.bind(null,ge,t),[e.memoizedState,t]}function ro(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sm(){return St().memoizedState}function cs(t,e,n,r){var s=Bt();ge.flags|=t,s.memoizedState=ro(1|e,n,void 0,r===void 0?null:r)}function Js(t,e,n,r){var s=St();r=r===void 0?null:r;var a=void 0;if(be!==null){var u=be.memoizedState;if(a=u.destroy,r!==null&&pc(r,u.deps)){s.memoizedState=ro(e,n,a,r);return}}ge.flags|=t,s.memoizedState=ro(1|e,n,a,r)}function Bd(t,e){return cs(8390656,8,t,e)}function vc(t,e){return Js(2048,8,t,e)}function am(t,e){return Js(4,2,t,e)}function lm(t,e){return Js(4,4,t,e)}function um(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cm(t,e,n){return n=n!=null?n.concat([t]):null,Js(4,4,um.bind(null,e,t),n)}function gc(){}function hm(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dm(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fm(t,e,n){return ti&21?(At(n,e)||(n=gp(),ge.lanes|=n,ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=n)}function ew(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=pl.transition;pl.transition={};try{t(!1),e()}finally{ae=n,pl.transition=r}}function pm(){return St().memoizedState}function tw(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mm(t))_m(e,n);else if(n=Jp(t,e,n,r),n!==null){var s=qe();It(n,t,r,s),vm(n,e,r)}}function nw(t,e,n){var r=Ln(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mm(t))_m(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(s.hasEagerState=!0,s.eagerState=h,At(h,u)){var d=e.interleaved;d===null?(s.next=s,uc(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=Jp(t,e,s,r),n!==null&&(s=qe(),It(n,t,r,s),vm(n,e,r))}}function mm(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function _m(t,e){zr=As=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}var Rs={readContext:wt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},iw={readContext:wt,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:Bd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cs(4194308,4,um.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cs(4194308,4,t,e)},useInsertionEffect:function(t,e){return cs(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tw.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:jd,useDebugValue:gc,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=jd(!1),e=t[0];return t=ew.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,s=Bt();if(me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Me===null)throw Error(z(349));ti&30||tm(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Bd(im.bind(null,r,a,t),[t]),r.flags|=2048,ro(9,nm.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Bt(),e=Me.identifierPrefix;if(me){var n=Xt,r=Yt;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=no++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Xy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rw={readContext:wt,useCallback:hm,useContext:wt,useEffect:vc,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:ml,useRef:sm,useState:function(){return ml(io)},useDebugValue:gc,useDeferredValue:function(t){var e=St();return fm(e,be.memoizedState,t)},useTransition:function(){var t=ml(io)[0],e=St().memoizedState;return[t,e]},useMutableSource:Xp,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1},ow={readContext:wt,useCallback:hm,useContext:wt,useEffect:vc,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:_l,useRef:sm,useState:function(){return _l(io)},useDebugValue:gc,useDeferredValue:function(t){var e=St();return be===null?e.memoizedState=t:fm(e,be.memoizedState,t)},useTransition:function(){var t=_l(io)[0],e=St().memoizedState;return[t,e]},useMutableSource:Xp,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function su(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qs={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qe(),s=Ln(t),a=en(r,s);a.payload=e,n!=null&&(a.callback=n),e=Tn(t,a,s),e!==null&&(It(e,t,s,r),ls(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qe(),s=Ln(t),a=en(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Tn(t,a,s),e!==null&&(It(e,t,s,r),ls(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qe(),r=Ln(t),s=en(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tn(t,s,r),e!==null&&(It(e,t,r,n),ls(e,t,r))}};function Dd(t,e,n,r,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Jr(n,r)||!Jr(s,a):!0}function gm(t,e,n){var r=!1,s=In,a=e.contextType;return typeof a=="object"&&a!==null?a=wt(a):(s=nt(e)?Xn:Ze.current,r=e.contextTypes,a=(r=r!=null)?Wi(t,s):In),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function $d(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qs.enqueueReplaceState(e,e.state,null)}function au(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cc(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=wt(a):(a=nt(e)?Xn:Ze.current,s.context=Wi(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(su(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qs.enqueueReplaceState(s,s.state,null),Os(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ki(t,e){try{var n="",r=e;do n+=Rg(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function ym(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zs||(zs=!0,gu=r),lu(t,e)},n}function wm(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lu(t,e),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Ud(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ww.bind(null,t,e,n),e.then(t,t))}function Fd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var aw=sn.ReactCurrentOwner,et=!1;function Ve(t,e,n,r){e.child=t===null?Gp(e,null,n,r):Vi(e,t.child,n,r)}function Wd(t,e,n,r,s){n=n.render;var a=e.ref;return $i(e,s),r=mc(t,e,n,r,a,s),n=_c(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(me&&n&&ic(e),e.flags|=1,Ve(t,e,r,s),e.child)}function Hd(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Tc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Sm(t,e,a,r,s)):(t=ps(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(u,r)&&t.ref===e.ref)return on(t,e,s)}return e.flags|=1,t=bn(a,r),t.ref=e.ref,t.return=e,e.child=t}function Sm(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(Jr(a,r)&&t.ref===e.ref)if(et=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,on(t,e,s)}return uu(t,e,n,r,s)}function km(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(zi,ot),ot|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(zi,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,de(zi,ot),ot|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,de(zi,ot),ot|=r;return Ve(t,e,s,n),e.child}function xm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uu(t,e,n,r,s){var a=nt(n)?Xn:Ze.current;return a=Wi(e,a),$i(e,s),n=mc(t,e,n,r,a,s),r=_c(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(me&&r&&ic(e),e.flags|=1,Ve(t,e,n,s),e.child)}function Vd(t,e,n,r,s){if(nt(n)){var a=!0;Es(e)}else a=!1;if($i(e,s),e.stateNode===null)hs(t,e),gm(e,n,r),au(e,n,r,s),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=wt(p):(p=nt(n)?Xn:Ze.current,p=Wi(e,p));var _=n.getDerivedStateFromProps,v=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&$d(e,u,r,p),mn=!1;var w=e.memoizedState;u.state=w,Os(e,r,u,s),d=e.memoizedState,h!==r||w!==d||tt.current||mn?(typeof _=="function"&&(su(e,n,_,r),d=e.memoizedState),(h=mn||Dd(e,n,h,r,w,d,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Qp(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Tt(e.type,h),u.props=p,v=e.pendingProps,w=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=wt(d):(d=nt(n)?Xn:Ze.current,d=Wi(e,d));var x=n.getDerivedStateFromProps;(_=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==v||w!==d)&&$d(e,u,r,d),mn=!1,w=e.memoizedState,u.state=w,Os(e,r,u,s);var E=e.memoizedState;h!==v||w!==E||tt.current||mn?(typeof x=="function"&&(su(e,n,x,r),E=e.memoizedState),(p=mn||Dd(e,n,p,r,w,E,d)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,E,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,E,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),u.props=r,u.state=E,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return cu(t,e,n,r,a,s)}function cu(t,e,n,r,s,a){xm(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return s&&Id(e,n,!1),on(t,e,a);r=e.stateNode,aw.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Vi(e,t.child,null,a),e.child=Vi(e,null,h,a)):Ve(t,e,h,a),e.memoizedState=r.state,s&&Id(e,n,!0),e.child}function Pm(t){var e=t.stateNode;e.pendingContext?Od(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Od(t,e.context,!1),hc(t,e.containerInfo)}function qd(t,e,n,r,s){return Hi(),oc(s),e.flags|=256,Ve(t,e,n,r),e.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function du(t){return{baseLanes:t,cachePool:null,transitions:null}}function Em(t,e,n){var r=e.pendingProps,s=ve.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ve,s&1),t===null)return ru(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=ea(u,r,0,null),t=Yn(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=du(n),e.memoizedState=hu,t):yc(e,u));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return lw(t,e,u,r,h,s,n);if(a){a=r.fallback,u=e.mode,s=t.child,h=s.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=bn(s,d),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=bn(h,a):(a=Yn(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?du(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=hu,r}return a=t.child,t=a.sibling,r=bn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yc(t,e){return e=ea({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Go(t,e,n,r){return r!==null&&oc(r),Vi(e,t.child,null,n),t=yc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lw(t,e,n,r,s,a,u){if(n)return e.flags&256?(e.flags&=-257,r=vl(Error(z(422))),Go(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=ea({mode:"visible",children:r.children},s,0,null),a=Yn(a,s,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Vi(e,t.child,null,u),e.child.memoizedState=du(u),e.memoizedState=hu,a);if(!(e.mode&1))return Go(t,e,u,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(z(419)),r=vl(a,r,void 0),Go(t,e,u,r)}if(h=(u&t.childLanes)!==0,et||h){if(r=Me,r!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,rn(t,s),It(r,t,s,-1))}return Ec(),r=vl(Error(z(421))),Go(t,e,u,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Sw.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,st=En(s.nextSibling),at=e,me=!0,bt=null,t!==null&&(_t[vt++]=Yt,_t[vt++]=Xt,_t[vt++]=ei,Yt=t.id,Xt=t.overflow,ei=e),e=yc(e,r.children),e.flags|=4096,e)}function Kd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ou(t.return,e,n)}function gl(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Tm(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(Ve(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kd(t,n,e);else if(t.tag===19)Kd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Is(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gl(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Is(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gl(e,!0,n,null,a);break;case"together":gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uw(t,e,n){switch(e.tag){case 3:Pm(e),Hi();break;case 5:Yp(e);break;case 1:nt(e.type)&&Es(e);break;case 4:hc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;de(Ls,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?Em(t,e,n):(de(ve,ve.current&1),t=on(t,e,n),t!==null?t.sibling:null);de(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,km(t,e,n)}return on(t,e,n)}var Cm,fu,Lm,bm;Cm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fu=function(){};Lm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jn(Ft.current);var a=null;switch(n){case"input":s=zl(t,s),r=zl(t,r),a=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),a=[];break;case"textarea":s=Bl(t,s),r=Bl(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xs)}$l(n,r);var u;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var h=s[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Zr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&fe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};bm=function(t,e,n,r){n!==r&&(e.flags|=4)};function kr(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cw(t,e,n){var r=e.pendingProps;switch(rc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return nt(e.type)&&Ps(),Ue(e),null;case 3:return r=e.stateNode,qi(),pe(tt),pe(Ze),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Su(bt),bt=null))),fu(t,e),Ue(e),null;case 5:dc(e);var s=Jn(to.current);if(n=e.type,t!==null&&e.stateNode!=null)Lm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ue(e),null}if(t=Jn(Ft.current),qo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[$t]=e,r[Xr]=a,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)fe(Lr[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":id(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":od(r,a),fe("invalid",r)}$l(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Vo(r.textContent,h,t),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Vo(r.textContent,h,t),s=["children",""+h]):Zr.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&fe("scroll",r)}switch(n){case"input":Bo(r),rd(r,a,!0);break;case"textarea":Bo(r),sd(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ip(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[$t]=e,t[Xr]=r,Cm(t,e,!1,!1),e.stateNode=t;e:{switch(u=Ul(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)fe(Lr[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":id(t,r),s=zl(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":od(t,r),s=Bl(t,r),fe("invalid",t);break;default:s=r}$l(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?sp(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&rp(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Wr(t,d):typeof d=="number"&&Wr(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&fe("scroll",t):d!=null&&Zu(t,a,d,u))}switch(n){case"input":Bo(t),rd(t,r,!1);break;case"textarea":Bo(t),sd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+On(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ni(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)bm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Jn(to.current),Jn(Ft.current),qo(e)){if(r=e.stateNode,n=e.memoizedProps,r[$t]=e,(a=r.nodeValue!==n)&&(t=at,t!==null))switch(t.tag){case 3:Vo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vo(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=e,e.stateNode=r}return Ue(e),null;case 13:if(pe(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&st!==null&&e.mode&1&&!(e.flags&128))qp(),Hi(),e.flags|=98560,a=!1;else if(a=qo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[$t]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),a=!1}else bt!==null&&(Su(bt),bt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Oe===0&&(Oe=3):Ec())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return qi(),fu(t,e),t===null&&Qr(e.stateNode.containerInfo),Ue(e),null;case 10:return lc(e.type._context),Ue(e),null;case 17:return nt(e.type)&&Ps(),Ue(e),null;case 19:if(pe(ve),a=e.memoizedState,a===null)return Ue(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)kr(a,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Is(t),u!==null){for(e.flags|=128,kr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),e.child}t=t.sibling}a.tail!==null&&ke()>Gi&&(e.flags|=128,r=!0,kr(a,!1),e.lanes=4194304)}else{if(!r)if(t=Is(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!me)return Ue(e),null}else 2*ke()-a.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,kr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ke(),e.sibling=null,n=ve.current,de(ve,r?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return Pc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function hw(t,e){switch(rc(e),e.tag){case 1:return nt(e.type)&&Ps(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(),pe(tt),pe(Ze),fc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dc(e),null;case 13:if(pe(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ve),null;case 4:return qi(),null;case 10:return lc(e.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Jo=!1,Fe=!1,dw=typeof WeakSet=="function"?WeakSet:Set,$=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function pu(t,e,n){try{n()}catch(r){we(t,e,r)}}var Gd=!1;function fw(t,e){if(Ql=ws,t=Mp(),nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,_=0,v=t,w=null;t:for(;;){for(var x;v!==n||s!==0&&v.nodeType!==3||(h=u+s),v!==a||r!==0&&v.nodeType!==3||(d=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(x=v.firstChild)!==null;)w=v,v=x;for(;;){if(v===t)break t;if(w===n&&++p===s&&(h=u),w===a&&++_===r&&(d=u),(x=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=x}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:t,selectionRange:n},ws=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,O=E.memoizedState,k=e.stateNode,y=k.getSnapshotBeforeUpdate(e.elementType===e.type?T:Tt(e.type,T),O);k.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){we(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return E=Gd,Gd=!1,E}function Nr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&pu(e,n,a)}s=s.next}while(s!==r)}}function Ys(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Om(t){var e=t.alternate;e!==null&&(t.alternate=null,Om(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[Xr],delete e[tu],delete e[Gy],delete e[Jy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Im(t){return t.tag===5||t.tag===3||t.tag===4}function Jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Im(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xs));else if(r!==4&&(t=t.child,t!==null))for(_u(t,e,n),t=t.sibling;t!==null;)_u(t,e,n),t=t.sibling}function vu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vu(t,e,n),t=t.sibling;t!==null;)vu(t,e,n),t=t.sibling}var je=null,Ct=!1;function cn(t,e,n){for(n=n.child;n!==null;)Am(t,e,n),n=n.sibling}function Am(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ws,n)}catch{}switch(n.tag){case 5:Fe||Mi(n,e);case 6:var r=je,s=Ct;je=null,cn(t,e,n),je=r,Ct=s,je!==null&&(Ct?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Ct?(t=je,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),Kr(t)):hl(je,n.stateNode));break;case 4:r=je,s=Ct,je=n.stateNode.containerInfo,Ct=!0,cn(t,e,n),je=r,Ct=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&pu(n,e,u),s=s.next}while(s!==r)}cn(t,e,n);break;case 1:if(!Fe&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){we(n,e,h)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,cn(t,e,n),Fe=r):cn(t,e,n);break;default:cn(t,e,n)}}function Qd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dw),e.forEach(function(r){var s=kw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:je=h.stateNode,Ct=!1;break e;case 3:je=h.stateNode.containerInfo,Ct=!0;break e;case 4:je=h.stateNode.containerInfo,Ct=!0;break e}h=h.return}if(je===null)throw Error(z(160));Am(a,u,s),je=null,Ct=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(p){we(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rm(e,t),e=e.sibling}function Rm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),jt(t),r&4){try{Nr(3,t,t.return),Ys(3,t)}catch(T){we(t,t.return,T)}try{Nr(5,t,t.return)}catch(T){we(t,t.return,T)}}break;case 1:Pt(e,t),jt(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Pt(e,t),jt(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var s=t.stateNode;try{Wr(s,"")}catch(T){we(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&tp(s,a),Ul(h,u);var p=Ul(h,a);for(u=0;u<d.length;u+=2){var _=d[u],v=d[u+1];_==="style"?sp(s,v):_==="dangerouslySetInnerHTML"?rp(s,v):_==="children"?Wr(s,v):Zu(s,_,v,p)}switch(h){case"input":Nl(s,a);break;case"textarea":np(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Ni(s,!!a.multiple,x,!1):w!==!!a.multiple&&(a.defaultValue!=null?Ni(s,!!a.multiple,a.defaultValue,!0):Ni(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xr]=a}catch(T){we(t,t.return,T)}}break;case 6:if(Pt(e,t),jt(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(T){we(t,t.return,T)}}break;case 3:if(Pt(e,t),jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kr(e.containerInfo)}catch(T){we(t,t.return,T)}break;case 4:Pt(e,t),jt(t);break;case 13:Pt(e,t),jt(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(kc=ke())),r&4&&Qd(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(Fe=(p=Fe)||_,Pt(e,t),Fe=p):Pt(e,t),jt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!_&&t.mode&1)for($=t,_=t.child;_!==null;){for(v=$=_;$!==null;){switch(w=$,x=w.child,w.tag){case 0:case 11:case 14:case 15:Nr(4,w,w.return);break;case 1:Mi(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(T){we(r,n,T)}}break;case 5:Mi(w,w.return);break;case 22:if(w.memoizedState!==null){Xd(v);continue}}x!==null?(x.return=w,$=x):Xd(v)}_=_.sibling}e:for(_=null,v=t;;){if(v.tag===5){if(_===null){_=v;try{s=v.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,d=v.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=op("display",u))}catch(T){we(t,t.return,T)}}}else if(v.tag===6){if(_===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(T){we(t,t.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;_===v&&(_=null),v=v.return}_===v&&(_=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Pt(e,t),jt(t),r&4&&Qd(t);break;case 21:break;default:Pt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Im(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wr(s,""),r.flags&=-33);var a=Jd(t);vu(t,a,s);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Jd(t);_u(t,h,u);break;default:throw Error(z(161))}}catch(d){we(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pw(t,e,n){$=t,Mm(t)}function Mm(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&r){var u=s.memoizedState!==null||Jo;if(!u){var h=s.alternate,d=h!==null&&h.memoizedState!==null||Fe;h=Jo;var p=Fe;if(Jo=u,(Fe=d)&&!p)for($=s;$!==null;)u=$,d=u.child,u.tag===22&&u.memoizedState!==null?ef(s):d!==null?(d.return=u,$=d):ef(s);for(;a!==null;)$=a,Mm(a),a=a.sibling;$=s,Jo=h,Fe=p}Yd(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):Yd(t)}}function Yd(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fe||Ys(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Nd(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nd(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var v=_.dehydrated;v!==null&&Kr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Fe||e.flags&512&&mu(e)}catch(w){we(e,e.return,w)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Xd(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function ef(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ys(4,e)}catch(d){we(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){we(e,s,d)}}var a=e.return;try{mu(e)}catch(d){we(e,a,d)}break;case 5:var u=e.return;try{mu(e)}catch(d){we(e,u,d)}}}catch(d){we(e,e.return,d)}if(e===t){$=null;break}var h=e.sibling;if(h!==null){h.return=e.return,$=h;break}$=e.return}}var mw=Math.ceil,Ms=sn.ReactCurrentDispatcher,wc=sn.ReactCurrentOwner,yt=sn.ReactCurrentBatchConfig,ie=0,Me=null,Ee=null,Be=0,ot=0,zi=Rn(0),Oe=0,oo=null,ni=0,Xs=0,Sc=0,jr=null,Ye=null,kc=0,Gi=1/0,Gt=null,zs=!1,gu=null,Cn=null,Qo=!1,wn=null,Ns=0,Br=0,yu=null,ds=-1,fs=0;function qe(){return ie&6?ke():ds!==-1?ds:ds=ke()}function Ln(t){return t.mode&1?ie&2&&Be!==0?Be&-Be:Yy.transition!==null?(fs===0&&(fs=gp()),fs):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Ep(t.type)),t):1}function It(t,e,n,r){if(50<Br)throw Br=0,yu=null,Error(z(185));lo(t,n,r),(!(ie&2)||t!==Me)&&(t===Me&&(!(ie&2)&&(Xs|=n),Oe===4&&vn(t,Be)),it(t,r),n===1&&ie===0&&!(e.mode&1)&&(Gi=ke()+500,Gs&&Mn()))}function it(t,e){var n=t.callbackNode;Yg(t,e);var r=ys(t,t===Me?Be:0);if(r===0)n!==null&&ud(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ud(n),e===1)t.tag===0?Qy(tf.bind(null,t)):Wp(tf.bind(null,t)),qy(function(){!(ie&6)&&Mn()}),n=null;else{switch(yp(r)){case 1:n=Ku;break;case 4:n=_p;break;case 16:n=gs;break;case 536870912:n=vp;break;default:n=gs}n=Fm(n,zm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zm(t,e){if(ds=-1,fs=0,ie&6)throw Error(z(327));var n=t.callbackNode;if(Ui()&&t.callbackNode!==n)return null;var r=ys(t,t===Me?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=js(t,r);else{e=r;var s=ie;ie|=2;var a=jm();(Me!==t||Be!==e)&&(Gt=null,Gi=ke()+500,Qn(t,e));do try{gw();break}catch(h){Nm(t,h)}while(!0);ac(),Ms.current=a,ie=s,Ee!==null?e=0:(Me=null,Be=0,e=Oe)}if(e!==0){if(e===2&&(s=Vl(t),s!==0&&(r=s,e=wu(t,s))),e===1)throw n=oo,Qn(t,0),vn(t,r),it(t,ke()),n;if(e===6)vn(t,r);else{if(s=t.current.alternate,!(r&30)&&!_w(s)&&(e=js(t,r),e===2&&(a=Vl(t),a!==0&&(r=a,e=wu(t,a))),e===1))throw n=oo,Qn(t,0),vn(t,r),it(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Hn(t,Ye,Gt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=kc+500-ke(),10<e)){if(ys(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=eu(Hn.bind(null,t,Ye,Gt),e);break}Hn(t,Ye,Gt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var u=31-Ot(r);a=1<<u,u=e[u],u>s&&(s=u),r&=~a}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mw(r/1960))-r,10<r){t.timeoutHandle=eu(Hn.bind(null,t,Ye,Gt),r);break}Hn(t,Ye,Gt);break;case 5:Hn(t,Ye,Gt);break;default:throw Error(z(329))}}}return it(t,ke()),t.callbackNode===n?zm.bind(null,t):null}function wu(t,e){var n=jr;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=js(t,e),t!==2&&(e=Ye,Ye=n,e!==null&&Su(e)),t}function Su(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function _w(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!At(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~Sc,e&=~Xs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function tf(t){if(ie&6)throw Error(z(327));Ui();var e=ys(t,0);if(!(e&1))return it(t,ke()),null;var n=js(t,e);if(t.tag!==0&&n===2){var r=Vl(t);r!==0&&(e=r,n=wu(t,r))}if(n===1)throw n=oo,Qn(t,0),vn(t,e),it(t,ke()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t,Ye,Gt),it(t,ke()),null}function xc(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Gi=ke()+500,Gs&&Mn())}}function ii(t){wn!==null&&wn.tag===0&&!(ie&6)&&Ui();var e=ie;ie|=1;var n=yt.transition,r=ae;try{if(yt.transition=null,ae=1,t)return t()}finally{ae=r,yt.transition=n,ie=e,!(ie&6)&&Mn()}}function Pc(){ot=zi.current,pe(zi)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Vy(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ps();break;case 3:qi(),pe(tt),pe(Ze),fc();break;case 5:dc(r);break;case 4:qi();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:lc(r.type._context);break;case 22:case 23:Pc()}n=n.return}if(Me=t,Ee=t=bn(t.current,null),Be=ot=e,Oe=0,oo=null,Sc=Xs=ni=0,Ye=jr=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,r.next=u}n.pending=r}Gn=null}return t}function Nm(t,e){do{var n=Ee;try{if(ac(),us.current=Rs,As){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}As=!1}if(ti=0,Re=be=ge=null,zr=!1,no=0,wc.current=null,n===null||n.return===null){Oe=1,oo=e,Ee=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=Be,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,_=h,v=_.tag;if(!(_.mode&1)&&(v===0||v===11||v===15)){var w=_.alternate;w?(_.updateQueue=w.updateQueue,_.memoizedState=w.memoizedState,_.lanes=w.lanes):(_.updateQueue=null,_.memoizedState=null)}var x=Fd(u);if(x!==null){x.flags&=-257,Zd(x,u,h,a,e),x.mode&1&&Ud(a,p,e),e=x,d=p;var E=e.updateQueue;if(E===null){var T=new Set;T.add(d),e.updateQueue=T}else E.add(d);break e}else{if(!(e&1)){Ud(a,p,e),Ec();break e}d=Error(z(426))}}else if(me&&h.mode&1){var O=Fd(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Zd(O,u,h,a,e),oc(Ki(d,h));break e}}a=d=Ki(d,h),Oe!==4&&(Oe=2),jr===null?jr=[a]:jr.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var k=ym(a,d,e);zd(a,k);break e;case 1:h=d;var y=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cn===null||!Cn.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=wm(a,h,e);zd(a,C);break e}}a=a.return}while(a!==null)}Dm(n)}catch(R){e=R,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function jm(){var t=Ms.current;return Ms.current=Rs,t===null?Rs:t}function Ec(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Me===null||!(ni&268435455)&&!(Xs&268435455)||vn(Me,Be)}function js(t,e){var n=ie;ie|=2;var r=jm();(Me!==t||Be!==e)&&(Gt=null,Qn(t,e));do try{vw();break}catch(s){Nm(t,s)}while(!0);if(ac(),ie=n,Ms.current=r,Ee!==null)throw Error(z(261));return Me=null,Be=0,Oe}function vw(){for(;Ee!==null;)Bm(Ee)}function gw(){for(;Ee!==null&&!Zg();)Bm(Ee)}function Bm(t){var e=Um(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?Dm(t):Ee=e,wc.current=null}function Dm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hw(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ee=null;return}}else if(n=cw(n,e,ot),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Oe===0&&(Oe=5)}function Hn(t,e,n){var r=ae,s=yt.transition;try{yt.transition=null,ae=1,yw(t,e,n,r)}finally{yt.transition=s,ae=r}return null}function yw(t,e,n,r){do Ui();while(wn!==null);if(ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Xg(t,a),t===Me&&(Ee=Me=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qo||(Qo=!0,Fm(gs,function(){return Ui(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var u=ae;ae=1;var h=ie;ie|=4,wc.current=null,fw(t,n),Rm(n,t),Dy(Yl),ws=!!Ql,Yl=Ql=null,t.current=n,pw(n),Wg(),ie=h,ae=u,yt.transition=a}else t.current=n;if(Qo&&(Qo=!1,wn=t,Ns=s),a=t.pendingLanes,a===0&&(Cn=null),qg(n.stateNode),it(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zs)throw zs=!1,t=gu,gu=null,t;return Ns&1&&t.tag!==0&&Ui(),a=t.pendingLanes,a&1?t===yu?Br++:(Br=0,yu=t):Br=0,Mn(),null}function Ui(){if(wn!==null){var t=yp(Ns),e=yt.transition,n=ae;try{if(yt.transition=null,ae=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,Ns=0,ie&6)throw Error(z(331));var s=ie;for(ie|=4,$=t.current;$!==null;){var a=$,u=a.child;if($.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for($=p;$!==null;){var _=$;switch(_.tag){case 0:case 11:case 15:Nr(8,_,a)}var v=_.child;if(v!==null)v.return=_,$=v;else for(;$!==null;){_=$;var w=_.sibling,x=_.return;if(Om(_),_===p){$=null;break}if(w!==null){w.return=x,$=w;break}$=x}}}var E=a.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}$=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,$=u;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Nr(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,$=k;break e}$=a.return}}var y=t.current;for($=y;$!==null;){u=$;var g=u.child;if(u.subtreeFlags&2064&&g!==null)g.return=u,$=g;else e:for(u=y;$!==null;){if(h=$,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ys(9,h)}}catch(R){we(h,h.return,R)}if(h===u){$=null;break e}var C=h.sibling;if(C!==null){C.return=h.return,$=C;break e}$=h.return}}if(ie=s,Mn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ws,t)}catch{}r=!0}return r}finally{ae=n,yt.transition=e}}return!1}function nf(t,e,n){e=Ki(n,e),e=ym(t,e,1),t=Tn(t,e,1),e=qe(),t!==null&&(lo(t,1,e),it(t,e))}function we(t,e,n){if(t.tag===3)nf(t,t,n);else for(;e!==null;){if(e.tag===3){nf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){t=Ki(n,t),t=wm(e,t,1),e=Tn(e,t,1),t=qe(),e!==null&&(lo(e,1,t),it(e,t));break}}e=e.return}}function ww(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(Be&n)===n&&(Oe===4||Oe===3&&(Be&130023424)===Be&&500>ke()-kc?Qn(t,0):Sc|=n),it(t,e)}function $m(t,e){e===0&&(t.mode&1?(e=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):e=1);var n=qe();t=rn(t,e),t!==null&&(lo(t,e,n),it(t,n))}function Sw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$m(t,n)}function kw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),$m(t,n)}var Um;Um=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tt.current)et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return et=!1,uw(t,e,n);et=!!(t.flags&131072)}else et=!1,me&&e.flags&1048576&&Hp(e,Cs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hs(t,e),t=e.pendingProps;var s=Wi(e,Ze.current);$i(e,n),s=mc(null,e,r,t,s,n);var a=_c();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nt(r)?(a=!0,Es(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cc(e),s.updater=Qs,e.stateNode=s,s._reactInternals=e,au(e,r,t,n),e=cu(null,e,r,!0,a,n)):(e.tag=0,me&&a&&ic(e),Ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Pw(r),t=Tt(r,t),s){case 0:e=uu(null,e,r,t,n);break e;case 1:e=Vd(null,e,r,t,n);break e;case 11:e=Wd(null,e,r,t,n);break e;case 14:e=Hd(null,e,r,Tt(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tt(r,s),uu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tt(r,s),Vd(t,e,r,s,n);case 3:e:{if(Pm(e),t===null)throw Error(z(387));r=e.pendingProps,a=e.memoizedState,s=a.element,Qp(t,e),Os(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Ki(Error(z(423)),e),e=qd(t,e,r,n,s);break e}else if(r!==s){s=Ki(Error(z(424)),e),e=qd(t,e,r,n,s);break e}else for(st=En(e.stateNode.containerInfo.firstChild),at=e,me=!0,bt=null,n=Gp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===s){e=on(t,e,n);break e}Ve(t,e,r,n)}e=e.child}return e;case 5:return Yp(e),t===null&&ru(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,Xl(r,s)?u=null:a!==null&&Xl(r,a)&&(e.flags|=32),xm(t,e),Ve(t,e,u,n),e.child;case 6:return t===null&&ru(e),null;case 13:return Em(t,e,n);case 4:return hc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vi(e,null,r,n):Ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tt(r,s),Wd(t,e,r,s,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,de(Ls,r._currentValue),r._currentValue=u,a!==null)if(At(a.value,u)){if(a.children===s.children&&!tt.current){e=on(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=en(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?d.next=d:(d.next=_.next,_.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),ou(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(z(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),ou(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$i(e,n),s=wt(s),r=r(s),e.flags|=1,Ve(t,e,r,n),e.child;case 14:return r=e.type,s=Tt(r,e.pendingProps),s=Tt(r.type,s),Hd(t,e,r,s,n);case 15:return Sm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tt(r,s),hs(t,e),e.tag=1,nt(r)?(t=!0,Es(e)):t=!1,$i(e,n),gm(e,r,s),au(e,r,s,n),cu(null,e,r,!0,t,n);case 19:return Tm(t,e,n);case 22:return km(t,e,n)}throw Error(z(156,e.tag))};function Fm(t,e){return mp(t,e)}function xw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new xw(t,e,n,r)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pw(t){if(typeof t=="function")return Tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hu)return 11;if(t===Vu)return 14}return 2}function bn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ps(t,e,n,r,s,a){var u=2;if(r=t,typeof t=="function")Tc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Ei:return Yn(n.children,s,a,e);case Wu:u=8,s|=8;break;case Il:return t=gt(12,n,e,s|2),t.elementType=Il,t.lanes=a,t;case Al:return t=gt(13,n,e,s),t.elementType=Al,t.lanes=a,t;case Rl:return t=gt(19,n,e,s),t.elementType=Rl,t.lanes=a,t;case Yf:return ea(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jf:u=10;break e;case Qf:u=9;break e;case Hu:u=11;break e;case Vu:u=14;break e;case pn:u=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=gt(u,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function Yn(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function ea(t,e,n,r){return t=gt(22,t,r,e),t.elementType=Yf,t.lanes=n,t.stateNode={isHidden:!1},t}function yl(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function wl(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ew(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cc(t,e,n,r,s,a,u,h,d){return t=new Ew(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=gt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(a),t}function Tw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zm(t){if(!t)return In;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(nt(n))return Zp(t,n,e)}return e}function Wm(t,e,n,r,s,a,u,h,d){return t=Cc(n,r,!0,t,s,a,u,h,d),t.context=Zm(null),n=t.current,r=qe(),s=Ln(n),a=en(r,s),a.callback=e??null,Tn(n,a,s),t.current.lanes=s,lo(t,s,r),it(t,r),t}function ta(t,e,n,r){var s=e.current,a=qe(),u=Ln(s);return n=Zm(n),e.context===null?e.context=n:e.pendingContext=n,e=en(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(s,e,u),t!==null&&(It(t,s,u,a),ls(t,s,u)),u}function Bs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lc(t,e){rf(t,e),(t=t.alternate)&&rf(t,e)}function Cw(){return null}var Hm=typeof reportError=="function"?reportError:function(t){console.error(t)};function bc(t){this._internalRoot=t}na.prototype.render=bc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));ta(t,e,null,null)};na.prototype.unmount=bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){ta(null,t,null,null)}),e[nn]=null}};function na(t){this._internalRoot=t}na.prototype.unstable_scheduleHydration=function(t){if(t){var e=kp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&Pp(t)}};function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function of(){}function Lw(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=Bs(u);a.call(p)}}var u=Wm(e,r,t,0,null,!1,!1,"",of);return t._reactRootContainer=u,t[nn]=u.current,Qr(t.nodeType===8?t.parentNode:t),ii(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var p=Bs(d);h.call(p)}}var d=Cc(t,0,!1,null,null,!1,!1,"",of);return t._reactRootContainer=d,t[nn]=d.current,Qr(t.nodeType===8?t.parentNode:t),ii(function(){ta(e,d,n,r)}),d}function ra(t,e,n,r,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var h=s;s=function(){var d=Bs(u);h.call(d)}}ta(e,u,t,s)}else u=Lw(n,e,t,s,r);return Bs(u)}wp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cr(e.pendingLanes);n!==0&&(Gu(e,n|1),it(e,ke()),!(ie&6)&&(Gi=ke()+500,Mn()))}break;case 13:ii(function(){var r=rn(t,1);if(r!==null){var s=qe();It(r,t,1,s)}}),Lc(t,1)}};Ju=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=qe();It(e,t,134217728,n)}Lc(t,134217728)}};Sp=function(t){if(t.tag===13){var e=Ln(t),n=rn(t,e);if(n!==null){var r=qe();It(n,t,e,r)}Lc(t,e)}};kp=function(){return ae};xp=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Zl=function(t,e,n){switch(e){case"input":if(Nl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ks(r);if(!s)throw Error(z(90));ep(r),Nl(r,s)}}}break;case"textarea":np(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};up=xc;cp=ii;var bw={usingClientEntryPoint:!1,Events:[co,bi,Ks,ap,lp,xc]},xr={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ow={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fp(t),t===null?null:t.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Ws=Yo.inject(Ow),Ut=Yo}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(e))throw Error(z(200));return Tw(t,e,null,n)};ct.createRoot=function(t,e){if(!Oc(t))throw Error(z(299));var n=!1,r="",s=Hm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cc(t,1,!1,null,null,n,!1,r,s),t[nn]=e.current,Qr(t.nodeType===8?t.parentNode:t),new bc(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=fp(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return ii(t)};ct.hydrate=function(t,e,n){if(!ia(e))throw Error(z(200));return ra(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!Oc(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",u=Hm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Wm(e,null,t,1,n??null,s,!1,a,u),t[nn]=e.current,Qr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new na(e)};ct.render=function(t,e,n){if(!ia(e))throw Error(z(200));return ra(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!ia(t))throw Error(z(40));return t._reactRootContainer?(ii(function(){ra(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};ct.unstable_batchedUpdates=xc;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ia(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ra(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vm)}catch(t){console.error(t)}}Vm(),Vf.exports=ct;var qm=Vf.exports,sf=qm;bl.createRoot=sf.createRoot,bl.hydrateRoot=sf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}var Sn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sn||(Sn={}));const af="popstate";function Iw(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return ku("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gm(s)}return Rw(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Km(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substr(2,8)}function lf(t,e){return{usr:t.state,key:t.key,idx:e}}function ku(t,e,n,r){return n===void 0&&(n=null),Ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oa(e):e,{state:n,key:e&&e.key||r||Aw()})}function Gm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=Sn.Pop,d=null,p=_();p==null&&(p=0,u.replaceState(Ds({},u.state,{idx:p}),""));function _(){return(u.state||{idx:null}).idx}function v(){h=Sn.Pop;let O=_(),k=O==null?null:O-p;p=O,d&&d({action:h,location:T.location,delta:k})}function w(O,k){h=Sn.Push;let y=ku(T.location,O,k);p=_()+1;let g=lf(y,p),C=T.createHref(y);try{u.pushState(g,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}a&&d&&d({action:h,location:T.location,delta:1})}function x(O,k){h=Sn.Replace;let y=ku(T.location,O,k);p=_();let g=lf(y,p),C=T.createHref(y);u.replaceState(g,"",C),a&&d&&d({action:h,location:T.location,delta:0})}function E(O){let k=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof O=="string"?O:Gm(O);return y=y.replace(/ $/,"%20"),rt(k,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,k)}let T={get action(){return h},get location(){return t(s,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(af,v),d=O,()=>{s.removeEventListener(af,v),d=null}},createHref(O){return e(s,O)},createURL:E,encodeLocation(O){let k=E(O);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:x,go(O){return u.go(O)}};return T}var uf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uf||(uf={}));function Mw(t,e,n){return n===void 0&&(n="/"),zw(t,e,n)}function zw(t,e,n,r){let s=typeof e=="string"?oa(e):e,a=Ym(s.pathname||"/",n);if(a==null)return null;let u=Jm(t);Nw(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=Kw(a);h=Hw(u[d],p)}return h}function Jm(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(rt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Fi([r,d.relativePath]),_=n.concat(d);a.children&&a.children.length>0&&(rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Jm(a.children,e,_,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Zw(p,a.index),routesMeta:_})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let d of Qm(a.path))s(a,u,d)}),e}function Qm(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Qm(r.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Nw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ww(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jw=/^:[\w-]+$/,Bw=3,Dw=2,$w=1,Uw=10,Fw=-2,cf=t=>t==="*";function Zw(t,e){let n=t.split("/"),r=n.length;return n.some(cf)&&(r+=Fw),e&&(r+=Dw),n.filter(s=>!cf(s)).reduce((s,a)=>s+(jw.test(a)?Bw:a===""?$w:Uw),r)}function Ww(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Hw(t,e,n){let{routesMeta:r}=t,s={},a="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",v=Vw({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Fi([a,v.pathname]),pathnameBase:Gw(Fi([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Fi([a,v.pathnameBase]))}return u}function Vw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,_,v)=>{let{paramName:w,isOptional:x}=_;if(w==="*"){let T=h[v]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const E=h[v];return x&&!E?p[w]=void 0:p[w]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function qw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Km(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Kw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Km(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ym(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Fi=t=>t.join("/").replace(/\/\/+/g,"/"),Gw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Jw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xm=["post","put","patch","delete"];new Set(Xm);const Qw=["get",...Xm];new Set(Qw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}const Yw=B.createContext(null),Xw=B.createContext(null),e_=B.createContext(null),sa=B.createContext(null),aa=B.createContext({outlet:null,matches:[],isDataRoute:!1}),t_=B.createContext(null);function Ic(){return B.useContext(sa)!=null}function e0(){return Ic()||rt(!1),B.useContext(sa).location}function t0(t,e){return n0(t,e)}function n0(t,e,n,r){Ic()||rt(!1);let{navigator:s}=B.useContext(e_),{matches:a}=B.useContext(aa),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let p=e0(),_;if(e){var v;let O=typeof e=="string"?oa(e):e;d==="/"||(v=O.pathname)!=null&&v.startsWith(d)||rt(!1),_=O}else _=p;let w=_.pathname||"/",x=w;if(d!=="/"){let O=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=Mw(t,{pathname:x}),T=a0(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Fi([d,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:Fi([d,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,r);return e&&T?B.createElement(sa.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Sn.Pop}},T):T}function i0(){let t=h0(),e=Jw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,null)}const r0=B.createElement(i0,null);class o0 extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(aa.Provider,{value:this.props.routeContext},B.createElement(t_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s0(t){let{routeContext:e,match:n,children:r}=t,s=B.useContext(Yw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(aa.Provider,{value:e},r)}function a0(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(s=n)==null?void 0:s.errors;if(h!=null){let _=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);_>=0||rt(!1),u=u.slice(0,Math.min(u.length,_+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<u.length;_++){let v=u[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:w,errors:x}=n,E=v.route.loader&&w[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||E){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((_,v,w)=>{let x,E=!1,T=null,O=null;n&&(x=h&&v.route.id?h[v.route.id]:void 0,T=v.route.errorElement||r0,d&&(p<0&&w===0?(d0("route-fallback"),E=!0,O=null):p===w&&(E=!0,O=v.route.hydrateFallbackElement||null)));let k=e.concat(u.slice(0,w+1)),y=()=>{let g;return x?g=T:E?g=O:v.route.Component?g=B.createElement(v.route.Component,null):v.route.element?g=v.route.element:g=_,B.createElement(s0,{match:v,routeContext:{outlet:_,matches:k,isDataRoute:n!=null},children:g})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?B.createElement(o0,{location:n.location,revalidation:n.revalidation,component:T,error:x,children:y(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):y()},null)}var n_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(n_||{});function l0(t){let e=B.useContext(Xw);return e||rt(!1),e}function u0(t){let e=B.useContext(aa);return e||rt(!1),e}function c0(t){let e=u0(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function h0(){var t;let e=B.useContext(t_),n=l0(n_.UseRouteError),r=c0();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const hf={};function d0(t,e,n){hf[t]||(hf[t]=!0)}function f0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function i_(t){rt(!1)}function p0(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Sn.Pop,navigator:a,static:u=!1,future:h}=t;Ic()&&rt(!1);let d=e.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:a,static:u,future:$s({v7_relativeSplatPath:!1},h)}),[d,h,a,u]);typeof r=="string"&&(r=oa(r));let{pathname:_="/",search:v="",hash:w="",state:x=null,key:E="default"}=r,T=B.useMemo(()=>{let O=Ym(_,d);return O==null?null:{location:{pathname:O,search:v,hash:w,state:x,key:E},navigationType:s}},[d,_,v,w,x,E,s]);return T==null?null:B.createElement(e_.Provider,{value:p},B.createElement(sa.Provider,{children:n,value:T}))}function m0(t){let{children:e,location:n}=t;return t0(xu(e),n)}new Promise(()=>{});function xu(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,s)=>{if(!B.isValidElement(r))return;let a=[...e,s];if(r.type===B.Fragment){n.push.apply(n,xu(r.props.children,a));return}r.type!==i_&&rt(!1),!r.props.index||!r.props.children||rt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xu(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _0="6";try{window.__reactRouterVersion=_0}catch{}const v0="startTransition",df=wg[v0];function g0(t){let{basename:e,children:n,future:r,window:s}=t,a=B.useRef();a.current==null&&(a.current=Iw({window:s,v5Compat:!0}));let u=a.current,[h,d]=B.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},_=B.useCallback(v=>{p&&df?df(()=>d(v)):d(v)},[d,p]);return B.useLayoutEffect(()=>u.listen(_),[u,_]),B.useEffect(()=>f0(r),[r]),B.createElement(p0,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}var ff;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ff||(ff={}));var pf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function r_(t,e){const n=B.useRef(e);B.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const y0=1;function w0(t){return Object.freeze({__version:y0,map:t})}function S0(t,e){return Object.freeze({...t,...e})}const o_=B.createContext(null),s_=o_.Provider;function Ac(){const t=B.useContext(o_);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function k0(t){function e(n,r){const{instance:s,context:a}=t(n).current;return B.useImperativeHandle(r,()=>s),n.children==null?null:Fr.createElement(s_,{value:a},n.children)}return B.forwardRef(e)}function x0(t){function e(n,r){const[s,a]=B.useState(!1),{instance:u}=t(n,a).current;B.useImperativeHandle(r,()=>u),B.useEffect(function(){s&&u.update()},[u,s,n.children]);const h=u._contentNode;return h?qm.createPortal(n.children,h):null}return B.forwardRef(e)}function P0(t){function e(n,r){const{instance:s}=t(n).current;return B.useImperativeHandle(r,()=>s),null}return B.forwardRef(e)}function a_(t,e){const n=B.useRef();B.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Rc(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function E0(t,e){return function(r,s){const a=Ac(),u=t(Rc(r,a),a);return r_(a.map,r.attribution),a_(u.current,r.eventHandlers),e(u.current,a,r,s),u}}var Pu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(lt,function(n){var r="1.9.4";function s(i){var o,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(o in f)i[o]=f[o]}return i}var a=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function u(i,o){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(o,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,o,l){var c,f,m,S;return S=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(S,o),c=!0)},m}function _(i,o,l){var c=o[1],f=o[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function v(){return!1}function w(i,o){if(o===!1)return i;var l=Math.pow(10,o===void 0?6:o);return Math.round(i*l)/l}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return x(i).split(/\s+/)}function T(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in o)i.options[l]=o[l];return i.options}function O(i,o,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function y(i,o){return i.replace(k,function(l,c){var f=o[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(o)),f})}var g=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function C(i,o){for(var l=0;l<i.length;l++)if(i[l]===o)return l;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var N=0;function U(i){var o=+new Date,l=Math.max(0,16-(o-N));return N=o+l,window.setTimeout(i,l)}var ue=window.requestAnimationFrame||M("RequestAnimationFrame")||U,q=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function se(i,o,l){if(l&&ue===U)i.call(o);else return ue.call(window,u(i,o))}function Ie(i){i&&q.call(window,i)}var Nn={__proto__:null,extend:s,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:_,falseFn:v,formatNum:w,trim:x,splitWords:E,setOptions:T,getParamString:O,template:y,isArray:g,indexOf:C,emptyImageUrl:R,requestFn:ue,cancelFn:q,requestAnimFrame:se,cancelAnimFrame:Ie};function dt(){}dt.extend=function(i){var o=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=o.__super__=this.prototype,c=a(l);c.constructor=o,o.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return i.statics&&s(o,i.statics),i.includes&&(pa(i.includes),s.apply(null,[c].concat(i.includes))),s(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},s(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,S=c._initHooks.length;m<S;m++)c._initHooks[m].call(this)}},o},dt.include=function(i){var o=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},dt.mergeOptions=function(i){return s(this.prototype.options,i),this},dt.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function pa(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=g(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ze={on:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],o,l)}return this},off:function(i,o,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],o);else{i=E(i);for(var f=arguments.length===1,m=0,S=i.length;m<S;m++)f?this._off(i[m]):this._off(i[m],o,l)}return this},_on:function(i,o,l,c){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,l)===!1){l===this&&(l=void 0);var f={fn:o,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,o,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=v;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var S=this._listens(i,o,l);if(S!==!1){var P=c[S];this._firingCount&&(P.fn=v,this._events[i]=c=c.slice()),c.splice(S,1)}}},fire:function(i,o,l){if(!this.listens(i,l))return this;var c=s({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,S=f.length;m<S;m++){var P=f[m],b=P.fn;P.once&&this.off(i,b,P.ctx),b.call(P.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,o,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(c=!!o,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var S in this._eventParents)if(this._eventParents[S].listens(i,o,l,c))return!0}return!1},_listens:function(i,o,l){if(!this._events)return!1;var c=this._events[i]||[];if(!o)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===o&&c[f].ctx===l)return f;return!1},once:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o,!0);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],o,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};ze.addEventListener=ze.on,ze.removeEventListener=ze.clearAllEventListeners=ze.off,ze.addOneTimeEventListener=ze.once,ze.fireEvent=ze.fire,ze.hasEventListeners=ze.listens;var Zt=dt.extend(ze);function I(i,o,l){this.x=l?Math.round(i):i,this.y=l?Math.round(o):o}var H=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(j(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(j(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(i){i=j(i);var o=i.x-this.x,l=i.y-this.y;return Math.sqrt(o*o+l*l)},equals:function(i){return i=j(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=j(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function j(i,o,l){return i instanceof I?i:g(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,o,l)}function W(i,o){if(i)for(var l=o?[i,o]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}W.prototype={extend:function(i){var o,l;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)o=l=j(i);else if(i=ne(i),o=i.min,l=i.max,!o||!l)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=l.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,l;return typeof i[0]=="number"||i instanceof I?i=j(i):i=ne(i),i instanceof W?(o=i.min,l=i.max):o=l=i,o.x>=this.min.x&&l.x<=this.max.x&&o.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=ne(i);var o=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=o.x&&c.x<=l.x,S=f.y>=o.y&&c.y<=l.y;return m&&S},overlaps:function(i){i=ne(i);var o=this.min,l=this.max,c=i.min,f=i.max,m=f.x>o.x&&c.x<l.x,S=f.y>o.y&&c.y<l.y;return m&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,l=this.max,c=Math.abs(o.x-l.x)*i,f=Math.abs(o.y-l.y)*i;return ne(j(o.x-c,o.y-f),j(l.x+c,l.y+f))},equals:function(i){return i?(i=ne(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ne(i,o){return!i||i instanceof W?i:new W(i,o)}function Te(i,o){if(i)for(var l=o?[i,o]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Te.prototype={extend:function(i){var o=this._southWest,l=this._northEast,c,f;if(i instanceof re)c=i,f=i;else if(i instanceof Te){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(K(i)||le(i)):this;return!o&&!l?(this._southWest=new re(c.lat,c.lng),this._northEast=new re(f.lat,f.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var o=this._southWest,l=this._northEast,c=Math.abs(o.lat-l.lat)*i,f=Math.abs(o.lng-l.lng)*i;return new Te(new re(o.lat-c,o.lng-f),new re(l.lat+c,l.lng+f))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof re||"lat"in i?i=K(i):i=le(i);var o=this._southWest,l=this._northEast,c,f;return i instanceof Te?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=o.lat&&f.lat<=l.lat&&c.lng>=o.lng&&f.lng<=l.lng},intersects:function(i){i=le(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=o.lat&&c.lat<=l.lat,S=f.lng>=o.lng&&c.lng<=l.lng;return m&&S},overlaps:function(i){i=le(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>o.lat&&c.lat<l.lat,S=f.lng>o.lng&&c.lng<l.lng;return m&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=le(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(i,o){return i instanceof Te?i:new Te(i,o)}function re(i,o,l){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,l!==void 0&&(this.alt=+l)}re.prototype={equals:function(i,o){if(!i)return!1;i=K(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+w(this.lat,i)+", "+w(this.lng,i)+")"},distanceTo:function(i){return an.distance(this,K(i))},wrap:function(){return an.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,l=o/Math.cos(Math.PI/180*this.lat);return le([this.lat-o,this.lng-l],[this.lat+o,this.lng+l])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function K(i,o,l){return i instanceof re?i:g(i)&&typeof i[0]!="object"?i.length===3?new re(i[0],i[1],i[2]):i.length===2?new re(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new re(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new re(i,o,l)}var Je={latLngToPoint:function(i,o){var l=this.projection.project(i),c=this.scale(o);return this.transformation._transform(l,c)},pointToLatLng:function(i,o){var l=this.scale(o),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(o.min,l),f=this.transformation.transform(o.max,l);return new W(c,f)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new re(l,o,c)},wrapLatLngBounds:function(i){var o=i.getCenter(),l=this.wrapLatLng(o),c=o.lat-l.lat,f=o.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),S=i.getNorthEast(),P=new re(m.lat-c,m.lng-f),b=new re(S.lat-c,S.lng-f);return new Te(P,b)}},an=s({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var l=Math.PI/180,c=i.lat*l,f=o.lat*l,m=Math.sin((o.lat-i.lat)*l/2),S=Math.sin((o.lng-i.lng)*l/2),P=m*m+Math.cos(c)*Math.cos(f)*S*S,b=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*b}}),Uc=6378137,ma={R:Uc,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*o);return new I(this.R*i.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var o=180/Math.PI;return new re((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=Uc*Math.PI;return new W([-i,-i],[i,i])}()};function _a(i,o,l,c){if(g(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=l,this._d=c}_a.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new I((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function nr(i,o,l,c){return new _a(i,o,l,c)}var va=s({},an,{code:"EPSG:3857",projection:ma,transformation:function(){var i=.5/(Math.PI*ma.R);return nr(i,.5,-i,.5)}()}),R_=s({},va,{code:"EPSG:900913"});function Fc(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Zc(i,o){var l="",c,f,m,S,P,b;for(c=0,m=i.length;c<m;c++){for(P=i[c],f=0,S=P.length;f<S;f++)b=P[f],l+=(f?"L":"M")+b.x+" "+b.y;l+=o?F.svg?"z":"x":""}return l||"M0 0"}var ga=document.documentElement.style,vo="ActiveXObject"in window,M_=vo&&!document.addEventListener,Wc="msLaunchUri"in navigator&&!("documentMode"in document),ya=Rt("webkit"),Hc=Rt("android"),Vc=Rt("android 2")||Rt("android 3"),z_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),N_=Hc&&Rt("Google")&&z_<537&&!("AudioNode"in window),wa=!!window.opera,qc=!Wc&&Rt("chrome"),Kc=Rt("gecko")&&!ya&&!wa&&!vo,j_=!qc&&Rt("safari"),Gc=Rt("phantom"),Jc="OTransition"in ga,B_=navigator.platform.indexOf("Win")===0,Qc=vo&&"transition"in ga,Sa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vc,Yc="MozPerspective"in ga,D_=!window.L_DISABLE_3D&&(Qc||Sa||Yc)&&!Jc&&!Gc,ir=typeof orientation<"u"||Rt("mobile"),$_=ir&&ya,U_=ir&&Sa,Xc=!window.PointerEvent&&window.MSPointerEvent,eh=!!(window.PointerEvent||Xc),th="ontouchstart"in window||!!window.TouchEvent,F_=!window.L_NO_TOUCH&&(th||eh),Z_=ir&&wa,W_=ir&&Kc,H_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,V_=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",v,o),window.removeEventListener("testPassiveEventSupport",v,o)}catch{}return i}(),q_=function(){return!!document.createElement("canvas").getContext}(),ka=!!(document.createElementNS&&Fc("svg").createSVGRect),K_=!!ka&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),G_=!ka&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),J_=navigator.platform.indexOf("Mac")===0,Q_=navigator.platform.indexOf("Linux")===0;function Rt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var F={ie:vo,ielt9:M_,edge:Wc,webkit:ya,android:Hc,android23:Vc,androidStock:N_,opera:wa,chrome:qc,gecko:Kc,safari:j_,phantom:Gc,opera12:Jc,win:B_,ie3d:Qc,webkit3d:Sa,gecko3d:Yc,any3d:D_,mobile:ir,mobileWebkit:$_,mobileWebkit3d:U_,msPointer:Xc,pointer:eh,touch:F_,touchNative:th,mobileOpera:Z_,mobileGecko:W_,retina:H_,passiveEvents:V_,canvas:q_,svg:ka,vml:G_,inlineSvg:K_,mac:J_,linux:Q_},nh=F.msPointer?"MSPointerDown":"pointerdown",ih=F.msPointer?"MSPointerMove":"pointermove",rh=F.msPointer?"MSPointerUp":"pointerup",oh=F.msPointer?"MSPointerCancel":"pointercancel",xa={touchstart:nh,touchmove:ih,touchend:rh,touchcancel:oh},sh={touchstart:iv,touchmove:go,touchend:go,touchcancel:go},ai={},ah=!1;function Y_(i,o,l){return o==="touchstart"&&nv(),sh[o]?(l=sh[o].bind(this,l),i.addEventListener(xa[o],l,!1),l):(console.warn("wrong event specified:",o),v)}function X_(i,o,l){if(!xa[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(xa[o],l,!1)}function ev(i){ai[i.pointerId]=i}function tv(i){ai[i.pointerId]&&(ai[i.pointerId]=i)}function lh(i){delete ai[i.pointerId]}function nv(){ah||(document.addEventListener(nh,ev,!0),document.addEventListener(ih,tv,!0),document.addEventListener(rh,lh,!0),document.addEventListener(oh,lh,!0),ah=!0)}function go(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var l in ai)o.touches.push(ai[l]);o.changedTouches=[o],i(o)}}function iv(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ne(o),go(i,o)}function rv(i){var o={},l,c;for(c in i)l=i[c],o[c]=l&&l.bind?l.bind(i):l;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var ov=200;function sv(i,o){i.addEventListener("dblclick",o);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var S=fh(m);if(!(S.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!S.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var P=Date.now();P-l<=ov?(c++,c===2&&o(rv(m))):c=1,l=P}}}return i.addEventListener("click",f),{dblclick:o,simDblclick:f}}function av(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Pa=So(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=So(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uh=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function ch(i){return typeof i=="string"?document.getElementById(i):i}function or(i,o){var l=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[o]:null}return l==="auto"?null:l}function oe(i,o,l){var c=document.createElement(i);return c.className=o||"",l&&l.appendChild(c),c}function _e(i){var o=i.parentNode;o&&o.removeChild(i)}function yo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function li(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function ui(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function Ea(i,o){if(i.classList!==void 0)return i.classList.contains(o);var l=wo(i);return l.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(l)}function Q(i,o){if(i.classList!==void 0)for(var l=E(o),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!Ea(i,o)){var m=wo(i);Ta(i,(m?m+" ":"")+o)}}function Se(i,o){i.classList!==void 0?i.classList.remove(o):Ta(i,x((" "+wo(i)+" ").replace(" "+o+" "," ")))}function Ta(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function wo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function ft(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&lv(i,o)}function lv(i,o){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),l?(l.Enabled=o!==100,l.Opacity=o):i.style.filter+=" progid:"+c+"(opacity="+o+")"}function So(i){for(var o=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in o)return i[l];return!1}function jn(i,o,l){var c=o||new I(0,0);i.style[Pa]=(F.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function xe(i,o){i._leaflet_pos=o,F.any3d?jn(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function Bn(i){return i._leaflet_pos||new I(0,0)}var sr,ar,Ca;if("onselectstart"in document)sr=function(){G(window,"selectstart",Ne)},ar=function(){ce(window,"selectstart",Ne)};else{var lr=So(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sr=function(){if(lr){var i=document.documentElement.style;Ca=i[lr],i[lr]="none"}},ar=function(){lr&&(document.documentElement.style[lr]=Ca,Ca=void 0)}}function La(){G(window,"dragstart",Ne)}function ba(){ce(window,"dragstart",Ne)}var ko,Oa;function Ia(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(xo(),ko=i,Oa=i.style.outlineStyle,i.style.outlineStyle="none",G(window,"keydown",xo))}function xo(){ko&&(ko.style.outlineStyle=Oa,ko=void 0,Oa=void 0,ce(window,"keydown",xo))}function hh(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Aa(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var uv={__proto__:null,TRANSFORM:Pa,TRANSITION:rr,TRANSITION_END:uh,get:ch,getStyle:or,create:oe,remove:_e,empty:yo,toFront:li,toBack:ui,hasClass:Ea,addClass:Q,removeClass:Se,setClass:Ta,getClass:wo,setOpacity:ft,testProp:So,setTransform:jn,setPosition:xe,getPosition:Bn,get disableTextSelection(){return sr},get enableTextSelection(){return ar},disableImageDrag:La,enableImageDrag:ba,preventOutline:Ia,restoreOutline:xo,getSizedParentNode:hh,getScale:Aa};function G(i,o,l,c){if(o&&typeof o=="object")for(var f in o)Ma(i,f,o[f],l);else{o=E(o);for(var m=0,S=o.length;m<S;m++)Ma(i,o[m],l,c)}return this}var Mt="_leaflet_events";function ce(i,o,l,c){if(arguments.length===1)dh(i),delete i[Mt];else if(o&&typeof o=="object")for(var f in o)za(i,f,o[f],l);else if(o=E(o),arguments.length===2)dh(i,function(P){return C(o,P)!==-1});else for(var m=0,S=o.length;m<S;m++)za(i,o[m],l,c);return this}function dh(i,o){for(var l in i[Mt]){var c=l.split(/\d/)[0];(!o||o(c))&&za(i,c,null,null,l)}}var Ra={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ma(i,o,l,c){var f=o+d(l)+(c?"_"+d(c):"");if(i[Mt]&&i[Mt][f])return this;var m=function(P){return l.call(c||i,P||window.event)},S=m;!F.touchNative&&F.pointer&&o.indexOf("touch")===0?m=Y_(i,o,m):F.touch&&o==="dblclick"?m=sv(i,m):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Ra[o]||o,m,F.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(m=function(P){P=P||window.event,ja(i,P)&&S(P)},i.addEventListener(Ra[o],m,!1)):i.addEventListener(o,S,!1):i.attachEvent("on"+o,m),i[Mt]=i[Mt]||{},i[Mt][f]=m}function za(i,o,l,c,f){f=f||o+d(l)+(c?"_"+d(c):"");var m=i[Mt]&&i[Mt][f];if(!m)return this;!F.touchNative&&F.pointer&&o.indexOf("touch")===0?X_(i,o,m):F.touch&&o==="dblclick"?av(i,m):"removeEventListener"in i?i.removeEventListener(Ra[o]||o,m,!1):i.detachEvent("on"+o,m),i[Mt][f]=null}function Dn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Na(i){return Ma(i,"wheel",Dn),this}function ur(i){return G(i,"mousedown touchstart dblclick contextmenu",Dn),i._leaflet_disable_click=!0,this}function Ne(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function $n(i){return Ne(i),Dn(i),this}function fh(i){if(i.composedPath)return i.composedPath();for(var o=[],l=i.target;l;)o.push(l),l=l.parentNode;return o}function ph(i,o){if(!o)return new I(i.clientX,i.clientY);var l=Aa(o),c=l.boundingClientRect;return new I((i.clientX-c.left)/l.x-o.clientLeft,(i.clientY-c.top)/l.y-o.clientTop)}var cv=F.linux&&F.chrome?window.devicePixelRatio:F.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mh(i){return F.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/cv:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ja(i,o){var l=o.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var hv={__proto__:null,on:G,off:ce,stopPropagation:Dn,disableScrollPropagation:Na,disableClickPropagation:ur,preventDefault:Ne,stop:$n,getPropagationPath:fh,getMousePosition:ph,getWheelDelta:mh,isExternalTarget:ja,addListener:G,removeListener:ce},_h=Zt.extend({run:function(i,o,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Bn(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,l=this._duration*1e3;o<l?this._runFrame(this._easeOut(o/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var l=this._startPos.add(this._offset.multiplyBy(i));o&&l._round(),xe(this._el,l),this.fire("step")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),te=Zt.extend({options:{crs:va,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=T(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(K(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&F.any3d&&!F.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,uh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,l){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(K(i),o,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=s({animate:l.animate},l.zoom),l.pan=s({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,l){var c=this.getZoomScale(o),f=this.getSize().divideBy(2),m=i instanceof I?i:this.latLngToContainerPoint(i),S=m.subtract(f).multiplyBy(1-1/c),P=this.containerPointToLatLng(f.add(S));return this.setView(P,o,{zoom:l})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():le(i);var l=j(o.paddingTopLeft||o.padding||[0,0]),c=j(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),S=this.project(i.getSouthWest(),f),P=this.project(i.getNorthEast(),f),b=this.unproject(S.add(P).divideBy(2).add(m),f);return{center:b,zoom:f}},fitBounds:function(i,o){if(i=le(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,o);return this.setView(l.center,l.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=j(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _h,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Q(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,l){if(l=l||{},l.animate===!1||!F.any3d)return this.setView(i,o,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),S=this._zoom;i=K(i),o=o===void 0?S:o;var P=Math.max(m.x,m.y),b=P*this.getZoomScale(S,o),A=f.distanceTo(c)||1,D=1.42,Z=D*D;function Y(Pe){var zo=Pe?-1:1,Xv=Pe?b:P,eg=b*b-P*P+zo*Z*Z*A*A,tg=2*Xv*Z*A,Ka=eg/tg,Jh=Math.sqrt(Ka*Ka+1)-Ka,ng=Jh<1e-9?-18:Math.log(Jh);return ng}function We(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Ae(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function mt(Pe){return We(Pe)/Ae(Pe)}var Qe=Y(0);function mi(Pe){return P*(Ae(Qe)/Ae(Qe+D*Pe))}function Gv(Pe){return P*(Ae(Qe)*mt(Qe+D*Pe)-We(Qe))/Z}function Jv(Pe){return 1-Math.pow(1-Pe,1.5)}var Qv=Date.now(),Kh=(Y(1)-Qe)/D,Yv=l.duration?1e3*l.duration:1e3*Kh*.8;function Gh(){var Pe=(Date.now()-Qv)/Yv,zo=Jv(Pe)*Kh;Pe<=1?(this._flyToFrame=se(Gh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Gv(zo)/A)),S),this.getScaleZoom(P/mi(zo),S),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Gh.call(this),this},flyToBounds:function(i,o){var l=this._getBoundsCenterZoom(i,o);return this.flyTo(l.center,l.zoom,o)},setMaxBounds:function(i){return i=le(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,le(i));return l.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var l=j(o.paddingTopLeft||o.padding||[0,0]),c=j(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),S=this.getPixelBounds(),P=ne([S.min.add(l),S.max.subtract(c)]),b=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var A=m.subtract(P.getCenter()),D=P.extend(m).getSize().subtract(b);f.x+=A.x<0?-D.x:D.x,f.y+=A.y<0?-D.y:D.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=o.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,l,i):navigator.geolocation.getCurrentPosition(o,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,l=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,l=i.coords.longitude,c=new re(o,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var S=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(S,m.maxZoom):S)}var P={latlng:c,bounds:f,timestamp:i.timestamp};for(var b in i.coords)typeof i.coords[b]=="number"&&(P[b]=i.coords[b]);this.fire("locationfound",P)}},addHandler:function(i,o){if(!o)return this;var l=this[i]=new o(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)_e(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=oe("div",l,o||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Te(o,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,l){i=le(i),l=j(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),S=i.getNorthWest(),P=i.getSouthEast(),b=this.getSize().subtract(l),A=ne(this.project(P,c),this.project(S,c)).getSize(),D=F.any3d?this.options.zoomSnap:1,Z=b.x/A.x,Y=b.y/A.y,We=o?Math.max(Z,Y):Math.min(Z,Y);return c=this.getScaleZoom(We,c),D&&(c=Math.round(c/(D/100))*(D/100),c=o?Math.ceil(c/D)*D:Math.floor(c/D)*D),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var l=this._getTopLeftPoint(i,o);return new W(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var l=this.options.crs;return o=o===void 0?this._zoom:o,l.scale(i)/l.scale(o)},getScaleZoom:function(i,o){var l=this.options.crs;o=o===void 0?this._zoom:o;var c=l.zoom(i*l.scale(o));return isNaN(c)?1/0:c},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(K(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(j(i),o)},layerPointToLatLng:function(i){var o=j(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(K(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(le(i))},distance:function(i,o){return this.options.crs.distance(K(i),K(o))},containerPointToLayerPoint:function(i){return j(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return j(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(j(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return ph(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=ch(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(o,"scroll",this._onScroll,this),this._containerId=d(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&F.any3d,Q(i,"leaflet-container"+(F.touch?" leaflet-touch":"")+(F.retina?" leaflet-retina":"")+(F.ielt9?" leaflet-oldie":"")+(F.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=or(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(i.markerPane,"leaflet-zoom-hide"),Q(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,l){xe(this._mapPane,new I(0,0));var c=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,l)._move(i,o)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,l,c){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){xe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var o=i?ce:G;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),F.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var l=[],c,f=o==="mouseout"||o==="mouseover",m=i.target||i.srcElement,S=!1;m;){if(c=this._targets[d(m)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){S=!0;break}if(c&&c.listens(o,!0)&&(f&&!ja(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!S&&!f&&this.listens(o,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var l=i.type;l==="mousedown"&&Ia(o),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,l){if(i.type==="click"){var c=s({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,o);if(l){for(var m=[],S=0;S<l.length;S++)l[S].listens(o,!0)&&m.push(l[S]);f=m.concat(f)}if(f.length){o==="contextmenu"&&Ne(i);var P=f[0],b={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var A=P.getLatLng&&(!P._radius||P._radius<=10);b.containerPoint=A?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(i),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=A?P.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(S=0;S<f.length;S++)if(f[S].fire(o,b,!0),b.originalEvent._stopped||f[S].options.bubblingMouseEvents===!1&&C(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return Bn(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var l=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var l=this.getSize()._divideBy(2);return this.project(i,o)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return this.project(i,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return ne([this.project(i.getSouthWest(),o)._subtract(c),this.project(i.getNorthWest(),o)._subtract(c),this.project(i.getSouthEast(),o)._subtract(c),this.project(i.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,l){if(!l)return i;var c=this.project(i,o),f=this.getSize().divideBy(2),m=new W(c.subtract(f),c.add(f)),S=this._getBoundsOffset(m,l,o);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?i:this.unproject(c.add(S),o)},_limitOffset:function(i,o){if(!o)return i;var l=this.getPixelBounds(),c=new W(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(i,o,l){var c=ne(this.project(o.getNorthEast(),l),this.project(o.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),S=this._rebound(f.x,-m.x),P=this._rebound(f.y,-m.y);return new I(S,P)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),l=this.getMaxZoom(),c=F.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(o,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var l=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,o),!0)},_createAnimProxy:function(){var i=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var l=Pa,c=this._proxy.style[l];jn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();jn(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(se(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dv(i,o){return new te(i,o)}var kt=dt.extend({options:{position:"topright"},initialize:function(i){T(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Q(o,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),cr=function(i){return new kt(i)};te.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",l=this._controlContainer=oe("div",o+"control-container",this._container);function c(f,m){var S=o+f+" "+o+m;i[f+m]=oe("div",S,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)_e(this._controlCorners[i]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vh=kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,o,l){T(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return kt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(d(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=oe("div",i),l=this.options.collapsed;o.setAttribute("aria-haspopup",!0),ur(o),Na(o);var c=this._section=oe("section",i+"-list");l&&(this._map.on("click",this.collapse,this),G(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=oe("a",i+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),G(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ne(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=oe("div",i+"-base",c),this._separator=oe("div",i+"-separator",c),this._overlaysList=oe("div",i+"-overlays",c),o.appendChild(c)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&d(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yo(this._baseLayersList),yo(this._overlaysList),this._layerControlInputs=[];var i,o,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),o=o||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(d(i.target)),l=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,o)},_createRadioElement:function(i,o){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var o=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),G(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");o.appendChild(m),m.appendChild(c),m.appendChild(f);var S=i.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)o=i[m],l=this._getLayer(o.layerId).layer,o.checked?c.push(l):o.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)o=i[f],l=this._getLayer(o.layerId).layer,o.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,G(i,"click",Ne),this.expand();var o=this;setTimeout(function(){ce(i,"click",Ne),o._preventClick=!1})}}),fv=function(i,o,l){return new vh(i,o,l)},Ba=kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",l=oe("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,l,c,f){var m=oe("a",l,c);return m.innerHTML=i,m.href="#",m.title=o,m.setAttribute("role","button"),m.setAttribute("aria-label",o),ur(m),G(m,"click",$n),G(m,"click",f,this),G(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Se(this._zoomInButton,o),Se(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Q(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Q(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});te.mergeOptions({zoomControl:!0}),te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ba,this.addControl(this.zoomControl))});var pv=function(i){return new Ba(i)},gh=kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",l=oe("div",o),c=this.options;return this._addScales(c,o+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,l){i.metric&&(this._mScale=oe("div",o,l)),i.imperial&&(this._iScale=oe("div",o,l))},_update:function(){var i=this._map,o=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),l=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,l,o/i)},_updateImperial:function(i){var o=i*3.2808399,l,c,f;o>5280?(l=o/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(i,o,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),l=i/o;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,o*l}}),mv=function(i){return new gh(i)},_v='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(F.inlineSvg?_v+" ":"")+"Leaflet</a>"},initialize:function(i){T(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),ur(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});te.mergeOptions({attributionControl:!0}),te.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var vv=function(i){return new Da(i)};kt.Layers=vh,kt.Zoom=Ba,kt.Scale=gh,kt.Attribution=Da,cr.layers=fv,cr.zoom=pv,cr.scale=mv,cr.attribution=vv;var zt=dt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(i,o){return i.addHandler(o,this),this};var gv={Events:ze},yh=F.touch?"touchstart mousedown":"mousedown",ln=Zt.extend({options:{clickTolerance:3},initialize:function(i,o,l,c){T(this,c),this._element=i,this._dragStartTarget=o||i,this._preventOutline=l},enable:function(){this._enabled||(G(this._dragStartTarget,yh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,yh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ea(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ln._dragging===this&&this.finishDrag();return}if(!(ln._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ln._dragging=this,this._preventOutline&&Ia(this._element),La(),sr(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,l=hh(this._element);this._startPoint=new I(o.clientX,o.clientY),this._startPos=Bn(this._element),this._parentScale=Aa(l);var c=i.type==="mousedown";G(document,c?"mousemove":"touchmove",this._onMove,this),G(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,l=new I(o.clientX,o.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ne(i),this._moved||(this.fire("dragstart"),this._moved=!0,Q(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),xe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),ba(),ar();var o=this._moved&&this._moving;this._moving=!1,ln._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function wh(i,o,l){var c,f=[1,4,2,8],m,S,P,b,A,D,Z,Y;for(m=0,D=i.length;m<D;m++)i[m]._code=Un(i[m],o);for(P=0;P<4;P++){for(Z=f[P],c=[],m=0,D=i.length,S=D-1;m<D;S=m++)b=i[m],A=i[S],b._code&Z?A._code&Z||(Y=Po(A,b,Z,o,l),Y._code=Un(Y,o),c.push(Y)):(A._code&Z&&(Y=Po(A,b,Z,o,l),Y._code=Un(Y,o),c.push(Y)),c.push(b));i=c}return i}function Sh(i,o){var l,c,f,m,S,P,b,A,D;if(!i||i.length===0)throw new Error("latlngs not passed");pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Z=K([0,0]),Y=le(i),We=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());We<1700&&(Z=$a(i));var Ae=i.length,mt=[];for(l=0;l<Ae;l++){var Qe=K(i[l]);mt.push(o.project(K([Qe.lat-Z.lat,Qe.lng-Z.lng])))}for(P=b=A=0,l=0,c=Ae-1;l<Ae;c=l++)f=mt[l],m=mt[c],S=f.y*m.x-m.y*f.x,b+=(f.x+m.x)*S,A+=(f.y+m.y)*S,P+=S*3;P===0?D=mt[0]:D=[b/P,A/P];var mi=o.unproject(j(D));return K([mi.lat+Z.lat,mi.lng+Z.lng])}function $a(i){for(var o=0,l=0,c=0,f=0;f<i.length;f++){var m=K(i[f]);o+=m.lat,l+=m.lng,c++}return K([o/c,l/c])}var yv={__proto__:null,clipPolygon:wh,polygonCenter:Sh,centroid:$a};function kh(i,o){if(!o||!i.length)return i.slice();var l=o*o;return i=kv(i,l),i=Sv(i,l),i}function xh(i,o,l){return Math.sqrt(hr(i,o,l,!0))}function wv(i,o,l){return hr(i,o,l)}function Sv(i,o){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Ua(i,f,o,0,l-1);var m,S=[];for(m=0;m<l;m++)f[m]&&S.push(i[m]);return S}function Ua(i,o,l,c,f){var m=0,S,P,b;for(P=c+1;P<=f-1;P++)b=hr(i[P],i[c],i[f],!0),b>m&&(S=P,m=b);m>l&&(o[S]=1,Ua(i,o,l,c,S),Ua(i,o,l,S,f))}function kv(i,o){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)xv(i[c],i[f])>o&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var Ph;function Eh(i,o,l,c,f){var m=c?Ph:Un(i,l),S=Un(o,l),P,b,A;for(Ph=S;;){if(!(m|S))return[i,o];if(m&S)return!1;P=m||S,b=Po(i,o,P,l,f),A=Un(b,l),P===m?(i=b,m=A):(o=b,S=A)}}function Po(i,o,l,c,f){var m=o.x-i.x,S=o.y-i.y,P=c.min,b=c.max,A,D;return l&8?(A=i.x+m*(b.y-i.y)/S,D=b.y):l&4?(A=i.x+m*(P.y-i.y)/S,D=P.y):l&2?(A=b.x,D=i.y+S*(b.x-i.x)/m):l&1&&(A=P.x,D=i.y+S*(P.x-i.x)/m),new I(A,D,f)}function Un(i,o){var l=0;return i.x<o.min.x?l|=1:i.x>o.max.x&&(l|=2),i.y<o.min.y?l|=4:i.y>o.max.y&&(l|=8),l}function xv(i,o){var l=o.x-i.x,c=o.y-i.y;return l*l+c*c}function hr(i,o,l,c){var f=o.x,m=o.y,S=l.x-f,P=l.y-m,b=S*S+P*P,A;return b>0&&(A=((i.x-f)*S+(i.y-m)*P)/b,A>1?(f=l.x,m=l.y):A>0&&(f+=S*A,m+=P*A)),S=i.x-f,P=i.y-m,c?S*S+P*P:new I(f,m)}function pt(i){return!g(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Th(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(i)}function Ch(i,o){var l,c,f,m,S,P,b,A;if(!i||i.length===0)throw new Error("latlngs not passed");pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var D=K([0,0]),Z=le(i),Y=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());Y<1700&&(D=$a(i));var We=i.length,Ae=[];for(l=0;l<We;l++){var mt=K(i[l]);Ae.push(o.project(K([mt.lat-D.lat,mt.lng-D.lng])))}for(l=0,c=0;l<We-1;l++)c+=Ae[l].distanceTo(Ae[l+1])/2;if(c===0)A=Ae[0];else for(l=0,m=0;l<We-1;l++)if(S=Ae[l],P=Ae[l+1],f=S.distanceTo(P),m+=f,m>c){b=(m-c)/f,A=[P.x-b*(P.x-S.x),P.y-b*(P.y-S.y)];break}var Qe=o.unproject(j(A));return K([Qe.lat+D.lat,Qe.lng+D.lng])}var Pv={__proto__:null,simplify:kh,pointToSegmentDistance:xh,closestPointOnSegment:wv,clipSegment:Eh,_getEdgeIntersection:Po,_getBitCode:Un,_sqClosestPointOnSegment:hr,isFlat:pt,_flat:Th,polylineCenter:Ch},Fa={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new re(i.y,i.x)},bounds:new W([-180,-90],[180,90])},Za={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,l=this.R,c=i.lat*o,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),S=m*Math.sin(c),P=Math.tan(Math.PI/4-c/2)/Math.pow((1-S)/(1+S),m/2);return c=-l*Math.log(Math.max(P,1e-10)),new I(i.lng*o*l,c)},unproject:function(i){for(var o=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),S=Math.PI/2-2*Math.atan(m),P=0,b=.1,A;P<15&&Math.abs(b)>1e-7;P++)A=f*Math.sin(S),A=Math.pow((1-A)/(1+A),f/2),b=Math.PI/2-2*Math.atan(m*A)-S,S+=b;return new re(S*o,i.x*o/l)}},Ev={__proto__:null,LonLat:Fa,Mercator:Za,SphericalMercator:ma},Tv=s({},an,{code:"EPSG:3395",projection:Za,transformation:function(){var i=.5/(Math.PI*Za.R);return nr(i,.5,-i,.5)}()}),Lh=s({},an,{code:"EPSG:4326",projection:Fa,transformation:nr(1/180,1,-1/180,.5)}),Cv=s({},Je,{projection:Fa,transformation:nr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var l=o.lng-i.lng,c=o.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Je.Earth=an,Je.EPSG3395=Tv,Je.EPSG3857=va,Je.EPSG900913=R_,Je.EPSG4326=Lh,Je.Simple=Cv;var xt=Zt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var l=this.getEvents();o.on(l,this),this.once("remove",function(){o.off(l,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});te.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=d(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=d(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},_addLayers:function(i){i=i?g(i)?i:[i]:[];for(var o=0,l=i.length;o<l;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=d(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=xt.extend({initialize:function(i,o){T(this,o),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),Lv=function(i,o){return new ci(i,o)},Wt=ci.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ci.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ci.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Te;for(var o in this._layers){var l=this._layers[o];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),bv=function(i,o){return new Wt(i,o)},hi=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){T(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,o){var l=this.options,c=l[o+"Size"];typeof c=="number"&&(c=[c,c]);var f=j(c),m=j(o==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return F.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ov(i){return new hi(i)}var dr=hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof dr.imagePath!="string"&&(dr.imagePath=this._detectIconPath()),(this.options.imagePath||dr.imagePath)+hi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=oe("div","leaflet-default-icon-path",document.body),o=or(i,"background-image")||or(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),bh=zt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ln(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,l=o._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Bn(o._icon),S=l.getPixelBounds(),P=l.getPixelOrigin(),b=ne(S.min._subtract(P).add(f),S.max._subtract(P).subtract(f));if(!b.contains(m)){var A=j((Math.max(b.max.x,m.x)-b.max.x)/(S.max.x-b.max.x)-(Math.min(b.min.x,m.x)-b.min.x)/(S.min.x-b.min.x),(Math.max(b.max.y,m.y)-b.max.y)/(S.max.y-b.max.y)-(Math.min(b.min.y,m.y)-b.min.y)/(S.min.y-b.min.y)).multiplyBy(c);l.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),xe(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=se(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Ie(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,l=o._shadow,c=Bn(o._icon),f=o._map.layerPointToLatLng(c);l&&xe(l,c),o._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Eo=xt.extend({options:{icon:new dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){T(this,o),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Q(l,o),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(Q(f,o),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&xe(this._icon,i),this._shadow&&xe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&ft(this._icon,i),this._shadow&&ft(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,l=o.iconSize?j(o.iconSize):j(0,0),c=o.iconAnchor?j(o.iconAnchor):j(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Iv(i,o){return new Eo(i,o)}var un=xt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return T(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=un.extend({options:{fill:!0,radius:10},initialize:function(i,o){T(this,o),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return un.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,l=this._clickTolerance(),c=[i+l,o+l];this._pxBounds=new W(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Av(i,o){return new To(i,o)}var Wa=To.extend({initialize:function(i,o,l){if(typeof o=="number"&&(o=s({},l,{radius:o})),T(this,o),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Te(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:un.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===an.distance){var f=Math.PI/180,m=this._mRadius/an.R/f,S=l.project([o+m,i]),P=l.project([o-m,i]),b=S.add(P).divideBy(2),A=l.unproject(b).lat,D=Math.acos((Math.cos(m*f)-Math.sin(o*f)*Math.sin(A*f))/(Math.cos(o*f)*Math.cos(A*f)))/f;(isNaN(D)||D===0)&&(D=m/Math.cos(Math.PI/180*o)),this._point=b.subtract(l.getPixelOrigin()),this._radius=isNaN(D)?0:b.x-l.project([A,i-D]).x,this._radiusY=b.y-S.y}else{var Z=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(Z).x}this._updateBounds()}});function Rv(i,o,l){return new Wa(i,o,l)}var Ht=un.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){T(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,l=null,c=hr,f,m,S=0,P=this._parts.length;S<P;S++)for(var b=this._parts[S],A=1,D=b.length;A<D;A++){f=b[A-1],m=b[A];var Z=c(i,f,m,!0);Z<o&&(o=Z,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(o)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ch(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=K(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Te,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],l=pt(i),c=0,f=i.length;c<f;c++)l?(o[c]=K(i[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(i[c]);return o},_project:function(){var i=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new I(i,i);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,l){var c=i[0]instanceof re,f=i.length,m,S;if(c){for(S=[],m=0;m<f;m++)S[m]=this._map.latLngToLayerPoint(i[m]),l.extend(S[m]);o.push(S)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],o,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,l,c,f,m,S,P,b;for(l=0,f=0,m=this._rings.length;l<m;l++)for(b=this._rings[l],c=0,S=b.length;c<S-1;c++)P=Eh(b[c],b[c+1],i,c,!0),P&&(o[f]=o[f]||[],o[f].push(P[0]),(P[1]!==b[c+1]||c===S-2)&&(o[f].push(P[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=kh(i[l],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var l,c,f,m,S,P,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(P=this._parts[l],c=0,S=P.length,f=S-1;c<S;f=c++)if(!(!o&&c===0)&&xh(i,P[f],P[c])<=b)return!0;return!1}});function Mv(i,o){return new Ht(i,o)}Ht._flat=Th;var di=Ht.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=Ht.prototype._convertLatLngs.call(this,i),l=o.length;return l>=2&&o[0]instanceof re&&o[0].equals(o[l-1])&&o.pop(),o},_setLatLngs:function(i){Ht.prototype._setLatLngs.call(this,i),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,l=new I(o,o);if(i=new W(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=wh(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,l,c,f,m,S,P,b,A;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,b=this._parts.length;m<b;m++)for(l=this._parts[m],S=0,A=l.length,P=A-1;S<A;P=S++)c=l[S],f=l[P],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(o=!o);return o||Ht.prototype._containsPoint.call(this,i,!0)}});function zv(i,o){return new di(i,o)}var Vt=Wt.extend({initialize:function(i,o){T(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=g(i)?i:i.features,l,c,f;if(o){for(l=0,c=o.length;l<c;l++)f=o[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var S=Co(i,m);return S?(S.feature=Oo(i),S.defaultOptions=S.options,this.resetStyle(S),m.onEachFeature&&m.onEachFeature(i,S),this.addLayer(S)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function Co(i,o){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=o&&o.pointToLayer,S=o&&o.coordsToLatLng||Ha,P,b,A,D;if(!c&&!l)return null;switch(l.type){case"Point":return P=S(c),Oh(m,i,P,o);case"MultiPoint":for(A=0,D=c.length;A<D;A++)P=S(c[A]),f.push(Oh(m,i,P,o));return new Wt(f);case"LineString":case"MultiLineString":return b=Lo(c,l.type==="LineString"?0:1,S),new Ht(b,o);case"Polygon":case"MultiPolygon":return b=Lo(c,l.type==="Polygon"?1:2,S),new di(b,o);case"GeometryCollection":for(A=0,D=l.geometries.length;A<D;A++){var Z=Co({geometry:l.geometries[A],type:"Feature",properties:i.properties},o);Z&&f.push(Z)}return new Wt(f);case"FeatureCollection":for(A=0,D=l.features.length;A<D;A++){var Y=Co(l.features[A],o);Y&&f.push(Y)}return new Wt(f);default:throw new Error("Invalid GeoJSON object.")}}function Oh(i,o,l,c){return i?i(o,l):new Eo(l,c&&c.markersInheritOptions&&c)}function Ha(i){return new re(i[1],i[0],i[2])}function Lo(i,o,l){for(var c=[],f=0,m=i.length,S;f<m;f++)S=o?Lo(i[f],o-1,l):(l||Ha)(i[f]),c.push(S);return c}function Va(i,o){return i=K(i),i.alt!==void 0?[w(i.lng,o),w(i.lat,o),w(i.alt,o)]:[w(i.lng,o),w(i.lat,o)]}function bo(i,o,l,c){for(var f=[],m=0,S=i.length;m<S;m++)f.push(o?bo(i[m],pt(i[m])?0:o-1,l,c):Va(i[m],c));return!o&&l&&f.length>0&&f.push(f[0].slice()),f}function fi(i,o){return i.feature?s({},i.feature,{geometry:o}):Oo(o)}function Oo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var qa={toGeoJSON:function(i){return fi(this,{type:"Point",coordinates:Va(this.getLatLng(),i)})}};Eo.include(qa),Wa.include(qa),To.include(qa),Ht.include({toGeoJSON:function(i){var o=!pt(this._latlngs),l=bo(this._latlngs,o?1:0,!1,i);return fi(this,{type:(o?"Multi":"")+"LineString",coordinates:l})}}),di.include({toGeoJSON:function(i){var o=!pt(this._latlngs),l=o&&!pt(this._latlngs[0]),c=bo(this._latlngs,l?2:o?1:0,!0,i);return o||(c=[c]),fi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),ci.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(l){o.push(l.toGeoJSON(i).geometry.coordinates)}),fi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var l=o==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var S=Oo(m);S.type==="FeatureCollection"?c.push.apply(c,S.features):c.push(S)}}}),l?fi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Ih(i,o){return new Vt(i,o)}var Nv=Ih,Io=xt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,l){this._url=i,this._bounds=le(o),T(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&li(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=le(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:oe("img");if(Q(o,"leaflet-image-layer"),this._zoomAnimated&&Q(o,"leaflet-zoom-animated"),this.options.className&&Q(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;jn(this._image,l,o)},_reset:function(){var i=this._image,o=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=o.getSize();xe(i,o.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),jv=function(i,o,l){return new Io(i,o,l)},Ah=Io.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:oe("video");if(Q(o,"leaflet-image-layer"),this._zoomAnimated&&Q(o,"leaflet-zoom-animated"),this.options.className&&Q(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onloadeddata=u(this.fire,this,"load"),i){for(var l=o.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[o.src];return}g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var S=oe("source");S.src=this._url[m],o.appendChild(S)}}});function Bv(i,o,l){return new Ah(i,o,l)}var Rh=Io.extend({_initImage:function(){var i=this._image=this._url;Q(i,"leaflet-image-layer"),this._zoomAnimated&&Q(i,"leaflet-zoom-animated"),this.options.className&&Q(i,this.options.className),i.onselectstart=v,i.onmousemove=v}});function Dv(i,o,l){return new Rh(i,o,l)}var Nt=xt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof re||g(i))?(this._latlng=K(i),T(this,o)):(T(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&ft(this._container,1),this.bringToFront(),this.options.interactive&&(Q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(u(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&li(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof Wt){o=null;var l=this._source._layers;for(var c in l)if(l[c]._map){o=l[c];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=j(this.options.offset),l=this._getAnchor();this._zoomAnimated?xe(this._container,i.add(l)):o=o.add(i).add(l);var c=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});te.include({_initOverlay:function(i,o,l,c){var f=o;return f instanceof i||(f=new i(c).setContent(o)),l&&f.setLatLng(l),f}}),xt.include({_initOverlay:function(i,o,l,c){var f=l;return f instanceof i?(T(f,c),f._source=this):(f=o&&!c?o:new i(c,this),f.setContent(l)),f}});var Ao=Nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Nt.prototype.openOn.call(this,i)},onAdd:function(i){Nt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof un||this._source.on("preclick",Dn))},onRemove:function(i){Nt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof un||this._source.off("preclick",Dn))},getEvents:function(){var i=Nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=oe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=oe("div",i+"-content-wrapper",o);if(this._contentNode=oe("div",i+"-content",l),ur(o),Na(this._contentNode),G(o,"contextmenu",Dn),this._tipContainer=oe("div",i+"-tip-container",o),this._tip=oe("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=oe("a",i+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',G(c,"click",function(f){Ne(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),o.width=l+1+"px",o.whiteSpace="",o.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(o.height=f+"px",Q(i,m)):Se(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();xe(this._container,o.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(or(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+o,c=this._containerWidth,f=new I(this._containerLeft,-l-this._containerBottom);f._add(Bn(this._container));var m=i.layerPointToContainerPoint(f),S=j(this.options.autoPanPadding),P=j(this.options.autoPanPaddingTopLeft||S),b=j(this.options.autoPanPaddingBottomRight||S),A=i.getSize(),D=0,Z=0;m.x+c+b.x>A.x&&(D=m.x+c-A.x+b.x),m.x-D-P.x<0&&(D=m.x-P.x),m.y+l+b.y>A.y&&(Z=m.y+l-A.y+b.y),m.y-Z-P.y<0&&(Z=m.y-P.y),(D||Z)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([D,Z]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$v=function(i,o){return new Ao(i,o)};te.mergeOptions({closePopupOnClick:!0}),te.include({openPopup:function(i,o,l){return this._initOverlay(Ao,i,o,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),xt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(Ao,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Wt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){$n(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof un)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ro=Nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Nt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Nt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Nt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),S=c.layerPointToContainerPoint(i),P=this.options.direction,b=f.offsetWidth,A=f.offsetHeight,D=j(this.options.offset),Z=this._getAnchor();P==="top"?(o=b/2,l=A):P==="bottom"?(o=b/2,l=0):P==="center"?(o=b/2,l=A/2):P==="right"?(o=0,l=A/2):P==="left"?(o=b,l=A/2):S.x<m.x?(P="right",o=0,l=A/2):(P="left",o=b+(D.x+Z.x)*2,l=A/2),i=i.subtract(j(o,l,!0)).add(D).add(Z),Se(f,"leaflet-tooltip-right"),Se(f,"leaflet-tooltip-left"),Se(f,"leaflet-tooltip-top"),Se(f,"leaflet-tooltip-bottom"),Q(f,"leaflet-tooltip-"+P),xe(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&ft(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Uv=function(i,o){return new Ro(i,o)};te.include({openTooltip:function(i,o,l){return this._initOverlay(Ro,i,o,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),xt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ro,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[o](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Wt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(G(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),G(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var Mh=hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(yo(o),o.appendChild(l.html)):o.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=j(l.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Fv(i){return new Mh(i)}hi.Default=dr;var fr=xt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:F.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){T(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),_e(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,l=-i(-1/0,1/0),c=0,f=o.length,m;c<f;c++)m=o[c].style.zIndex,o[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!F.ielt9){ft(this._container,this.options.opacity);var i=+new Date,o=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);ft(f.el,m),m<1?o=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),o&&(Ie(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=o-Math.abs(i-l),this._onUpdateLevel(l)):(_e(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var i,o,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)_e(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,l,c){var f=Math.floor(i/2),m=Math.floor(o/2),S=l-1,P=new I(+f,+m);P.z=+S;var b=this._tileCoordsToKey(P),A=this._tiles[b];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),S>c?this._retainParent(f,m,S,c):!1)},_retainChildren:function(i,o,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*o;m<2*o+2;m++){var S=new I(f,m);S.z=l+1;var P=this._tileCoordsToKey(S),b=this._tiles[P];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,l,c){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,o)},_setZoomTransform:function(i,o,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,l)).round();F.any3d?jn(i.el,f,c):xe(i.el,f)},_resetGrid:function(){var i=this._map,o=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,o.wrapLng[1]],c).x/l.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([o.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,l=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(l,this._tileZoom),f=o.project(i,this._tileZoom).floor(),m=o.getSize().divideBy(c*2);return new W(f.subtract(m),f.add(m))},_update:function(i){var o=this._map;if(o){var l=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),S=[],P=this.options.keepBuffer,b=new W(f.getBottomLeft().subtract([P,-P]),f.getTopRight().add([P,-P]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var D=this._tiles[A].coords;(D.z!==this._tileZoom||!b.contains(new I(D.x,D.y)))&&(this._tiles[A].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var Z=f.min.y;Z<=f.max.y;Z++)for(var Y=f.min.x;Y<=f.max.x;Y++){var We=new I(Y,Z);if(We.z=this._tileZoom,!!this._isValidTile(We)){var Ae=this._tiles[this._tileCoordsToKey(We)];Ae?Ae.current=!0:S.push(We)}}if(S.sort(function(Qe,mi){return Qe.distanceTo(m)-mi.distanceTo(m)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mt=document.createDocumentFragment();for(Y=0;Y<S.length;Y++)this._addTile(S[Y],mt);this._level.el.appendChild(mt)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var l=this._globalTileRange;if(!o.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!o.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return le(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=o.unproject(c,i.z),S=o.unproject(f,i.z);return[m,S]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),l=new Te(o[0],o[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),l=new I(+o[0],+o[1]);return l.z=+o[2],l},_removeTile:function(i){var o=this._tiles[i];o&&(_e(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Q(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=v,i.onmousemove=v,F.ielt9&&this.options.opacity<1&&ft(i,this.options.opacity)},_addTile:function(i,o){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&se(u(this._tileReady,this,i,null,f)),xe(f,l),this._tiles[c]={el:f,coords:i,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,o,l){o&&this.fire("tileerror",{error:o,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(ft(l.el,0),Ie(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),o||(Q(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),F.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new I(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new W(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Zv(i){return new fr(i)}var pi=fr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=T(this,o),o.detectRetina&&F.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var l=document.createElement("img");return G(l,"load",u(this._tileOnLoad,this,o,l)),G(l,"error",u(this._tileOnError,this,o,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var o={r:F.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=l),o["-y"]=l}return y(this._url,s(o,this.options))},_tileOnLoad:function(i,o){F.ielt9?setTimeout(u(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,l){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),i(l,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=o-i),i+c},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=v,o.onerror=v,!o.complete)){o.src=R;var l=this._tiles[i].coords;_e(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:l})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",R),fr.prototype._removeTile.call(this,i)},_tileReady:function(i,o,l){if(!(!this._map||l&&l.getAttribute("src")===R))return fr.prototype._tileReady.call(this,i,o,l)}});function zh(i,o){return new pi(i,o)}var Nh=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var l=s({},this.defaultWmsParams);for(var c in o)c in this.options||(l[c]=o[c]);o=T(this,o);var f=o.detectRetina&&F.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,pi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),l=this._crs,c=ne(l.project(o[0]),l.project(o[1])),f=c.min,m=c.max,S=(this._wmsVersion>=1.3&&this._crs===Lh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),P=pi.prototype.getTileUrl.call(this,i);return P+O(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(i,o){return s(this.wmsParams,i),o||this.redraw(),this}});function Wv(i,o){return new Nh(i,o)}pi.WMS=Nh,zh.wms=Wv;var qt=xt.extend({options:{padding:.1},initialize:function(i){T(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var l=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,o));F.any3d?jn(this._container,m,l):xe(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),l=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new W(l,l.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jh=qt.extend({options:{tolerance:0},getEvents:function(){var i=qt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");G(i,"mousemove",this._onMouseMove,this),G(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Ie(this._redrawRequest),delete this._ctx,_e(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var i=this._bounds,o=this._container,l=i.getSize(),c=F.retina?2:1;xe(o,i.min),o.width=c*l.x,o.height=c*l.y,o.style.width=l.x+"px",o.style.height=l.y+"px",F.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,l=o.next,c=o.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<o.length;f++){if(c=Number(o[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var l=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var l,c,f,m,S=i._parts,P=S.length,b=this._ctx;if(P){for(b.beginPath(),l=0;l<P;l++){for(c=0,f=S[l].length;c<f;c++)m=S[l][c],b[c?"lineTo":"moveTo"](m.x,m.y);o&&b.closePath()}this._fillStroke(b,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(o.x,o.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,o){var l=o.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Se(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Q(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,l){this._map._fireDOMEvent(o,l||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Bh(i){return F.canvas?new jh(i):null}var pr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hv={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=pr("shape");Q(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=pr("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;_e(o),i.removeInteractiveTarget(o),delete this._layers[d(i)]},_updateStyle:function(i){var o=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(o||(o=i._stroke=pr("stroke")),f.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=g(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(f.removeChild(o),i._stroke=null),c.fill?(l||(l=i._fill=pr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){li(i._container)},_bringToBack:function(i){ui(i._container)}},Mo=F.vml?pr:Fc,mr=qt.extend({_initContainer:function(){this._container=Mo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var i=this._bounds,o=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,l.setAttribute("width",o.x),l.setAttribute("height",o.y)),xe(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=Mo("path");i.options.className&&Q(o,i.options.className),i.options.interactive&&Q(o,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){_e(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,l=i.options;o&&(l.stroke?(o.setAttribute("stroke",l.color),o.setAttribute("stroke-opacity",l.opacity),o.setAttribute("stroke-width",l.weight),o.setAttribute("stroke-linecap",l.lineCap),o.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?o.setAttribute("stroke-dasharray",l.dashArray):o.removeAttribute("stroke-dasharray"),l.dashOffset?o.setAttribute("stroke-dashoffset",l.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),l.fill?(o.setAttribute("fill",l.fillColor||l.color),o.setAttribute("fill-opacity",l.fillOpacity),o.setAttribute("fill-rule",l.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,Zc(i._parts,o))},_updateCircle:function(i){var o=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(o.x-l)+","+o.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){li(i._path)},_bringToBack:function(i){ui(i._path)}});F.vml&&mr.include(Hv);function Dh(i){return F.svg||F.vml?new mr(i):null}te.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Bh(i)||Dh(i)}});var $h=di.extend({initialize:function(i,o){di.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=le(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Vv(i,o){return new $h(i,o)}mr.create=Mo,mr.pointsToPath=Zc,Vt.geometryToLayer=Co,Vt.coordsToLatLng=Ha,Vt.coordsToLatLngs=Lo,Vt.latLngToCoords=Va,Vt.latLngsToCoords=bo,Vt.getFeature=fi,Vt.asFeature=Oo,te.mergeOptions({boxZoom:!0});var Uh=zt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sr(),La(),this._startPoint=this._map.mouseEventToContainerPoint(i),G(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new W(this._point,this._startPoint),l=o.getSize();xe(this._box,o.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(_e(this._box),Se(this._container,"leaflet-crosshair")),ar(),ba(),ce(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new Te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});te.addInitHook("addHandler","boxZoom",Uh),te.mergeOptions({doubleClickZoom:!0});var Fh=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,l=o.getZoom(),c=o.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(i.containerPoint,f)}});te.addInitHook("addHandler","doubleClickZoom",Fh),te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zh=zt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ln(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=le(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-o+l)%i+o-l,m=(c+o+l)%i-o-l,S=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(i){var o=this._map,l=o.options,c=!l.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),c)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,S=l.easeLinearity,P=f.multiplyBy(S/m),b=P.distanceTo([0,0]),A=Math.min(l.inertiaMaxSpeed,b),D=P.multiplyBy(A/b),Z=A/(l.inertiaDeceleration*S),Y=D.multiplyBy(-Z/2).round();!Y.x&&!Y.y?o.fire("moveend"):(Y=o._limitOffset(Y,o.options.maxBounds),se(function(){o.panBy(Y,{duration:Z,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});te.addInitHook("addHandler","dragging",Zh),te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wh=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),G(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,l=i.scrollTop||o.scrollTop,c=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)o[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)o[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)o[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)o[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)o[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)o[l.zoomOut[c]]=-i},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,l=this._map,c;if(o in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[o],i.shiftKey&&(c=j(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(j(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(o in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;$n(i)}}});te.addInitHook("addHandler","keyboard",Wh),te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hh=zt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=mh(i),l=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),$n(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,S=i._limitZoom(o+(this._delta>0?m:-m))-o;this._delta=0,this._startTime=null,S&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+S):i.setZoomAround(this._lastMousePos,o+S))}});te.addInitHook("addHandler","scrollWheelZoom",Hh);var qv=600;te.mergeOptions({tapHold:F.touchNative&&F.safari&&F.mobile,tapTolerance:15});var Vh=zt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new I(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Ne),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),qv),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ce(document,"touchend",Ne),ce(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new I(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});l._simulated=!0,o.target.dispatchEvent(l)}});te.addInitHook("addHandler","tapHold",Vh),te.mergeOptions({touchZoom:F.touch,bounceAtZoomLimits:!0});var qh=zt.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Ne(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Ie(this._animRequest);var S=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(S,this,!0),Ne(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ie(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});te.addInitHook("addHandler","touchZoom",qh),te.BoxZoom=Uh,te.DoubleClickZoom=Fh,te.Drag=Zh,te.Keyboard=Wh,te.ScrollWheelZoom=Hh,te.TapHold=Vh,te.TouchZoom=qh,n.Bounds=W,n.Browser=F,n.CRS=Je,n.Canvas=jh,n.Circle=Wa,n.CircleMarker=To,n.Class=dt,n.Control=kt,n.DivIcon=Mh,n.DivOverlay=Nt,n.DomEvent=hv,n.DomUtil=uv,n.Draggable=ln,n.Evented=Zt,n.FeatureGroup=Wt,n.GeoJSON=Vt,n.GridLayer=fr,n.Handler=zt,n.Icon=hi,n.ImageOverlay=Io,n.LatLng=re,n.LatLngBounds=Te,n.Layer=xt,n.LayerGroup=ci,n.LineUtil=Pv,n.Map=te,n.Marker=Eo,n.Mixin=gv,n.Path=un,n.Point=I,n.PolyUtil=yv,n.Polygon=di,n.Polyline=Ht,n.Popup=Ao,n.PosAnimation=_h,n.Projection=Ev,n.Rectangle=$h,n.Renderer=qt,n.SVG=mr,n.SVGOverlay=Rh,n.TileLayer=pi,n.Tooltip=Ro,n.Transformation=_a,n.Util=Nn,n.VideoOverlay=Ah,n.bind=u,n.bounds=ne,n.canvas=Bh,n.circle=Rv,n.circleMarker=Av,n.control=cr,n.divIcon=Fv,n.extend=s,n.featureGroup=bv,n.geoJSON=Ih,n.geoJson=Nv,n.gridLayer=Zv,n.icon=Ov,n.imageOverlay=jv,n.latLng=K,n.latLngBounds=le,n.layerGroup=Lv,n.map=dv,n.marker=Iv,n.point=j,n.polygon=zv,n.polyline=Mv,n.popup=$v,n.rectangle=Vv,n.setOptions=T,n.stamp=d,n.svg=Dh,n.svgOverlay=Dv,n.tileLayer=zh,n.tooltip=Uv,n.transformation=nr,n.version=r,n.videoOverlay=Bv;var Kv=window.L;n.noConflict=function(){return window.L=Kv,this},window.L=n})})(Pu,Pu.exports);var fo=Pu.exports;const la=Mf(fo);function Mc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function zc(t,e){return e==null?function(r,s){const a=B.useRef();return a.current||(a.current=t(r,s)),a}:function(r,s){const a=B.useRef();a.current||(a.current=t(r,s));const u=B.useRef(r),{instance:h}=a.current;return B.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,s]),a}}function T0(t,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function l_(t){return function(n){const r=Ac(),s=t(Rc(n,r),r);return r_(r.map,n.attribution),a_(s.current,n.eventHandlers),T0(s.current,r),s}}function C0(t,e){const n=zc(t,e),r=l_(n);return k0(r)}function L0(t,e){const n=zc(t),r=E0(n,e);return x0(r)}function b0(t,e){const n=zc(t,e),r=l_(n);return P0(r)}function O0(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function I0(){return Ac().map}function A0(t){const e=I0();return B.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Eu(){return Eu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}function R0({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:a,placeholder:u,style:h,whenReady:d,zoom:p,..._},v){const[w]=B.useState({className:s,id:a,style:h}),[x,E]=B.useState(null);B.useImperativeHandle(v,()=>(x==null?void 0:x.map)??null,[x]);const T=B.useCallback(k=>{if(k!==null&&x===null){const y=new fo.Map(k,_);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),E(w0(y))}},[]);B.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const O=x?Fr.createElement(s_,{value:x},r):u??null;return Fr.createElement("div",Eu({},w,{ref:T}),O)}const M0=B.forwardRef(R0),mf=C0(function({position:e,...n},r){const s=new fo.Marker(e,n);return Mc(s,S0(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),_f=L0(function(e,n){const r=new fo.Popup(e,n.overlayContainer);return Mc(r,n)},function(e,n,{position:r},s){B.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),s(!0))}function d(p){p.popup===u&&s(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var _;n.map.off({popupopen:h,popupclose:d}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(u)}},[e,n,s,r])}),z0=b0(function({url:e,...n},r){const s=new fo.TileLayer(e,Rc(n,r));return Mc(s,r)},function(e,n,r){O0(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)}),N0="modulepreload",j0=function(t){return"/"+t},vf={},po=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=j0(d),d in vf)return;vf[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":N0,p||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},B0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>po(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class D0 extends Nc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gf extends Nc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yf extends Nc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tu||(Tu={}));var $0=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class U0{constructor(e,{headers:n={},customFetch:r,region:s=Tu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=B0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return $0(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let _;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:_}).catch(T=>{throw new D0(T)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new gf(v);if(!v.ok)throw new yf(v);let x=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield v.json():x==="application/octet-stream"?E=yield v.blob():x==="text/event-stream"?E=v:x==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof yf||s instanceof gf?s.context:void 0}}})}}var Xe={},jc={},ua={},mo={},ca={},ha={},F0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ji=F0();const Z0=Ji.fetch,u_=Ji.fetch.bind(Ji),c_=Ji.Headers,W0=Ji.Request,H0=Ji.Response,er=Object.freeze(Object.defineProperty({__proto__:null,Headers:c_,Request:W0,Response:H0,default:u_,fetch:Z0},Symbol.toStringTag,{value:"Module"})),V0=rg(er);var da={};Object.defineProperty(da,"__esModule",{value:!0});let q0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};da.default=q0;var h_=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});const K0=h_(V0),G0=h_(da);let J0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=K0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let _=null,v=null,w=null,x=a.status,E=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=y:v=JSON.parse(y))}const O=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");O&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(_={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,x=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const O=await a.text();try{_=JSON.parse(O),Array.isArray(_)&&a.status===404&&(v=[],_=null,x=200,E="OK")}catch{a.status===404&&O===""?(x=204,E="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((p=_==null?void 0:_.details)===null||p===void 0)&&p.includes("0 rows"))&&(_=null,x=200,E="OK"),_&&this.shouldThrowOnError)throw new G0.default(_)}return{error:_,data:v,count:w,status:x,statusText:E}});return this.shouldThrowOnError||(s=s.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ha.default=J0;var Q0=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});const Y0=Q0(ha);let X0=class extends Y0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ca.default=X0;var eS=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mo,"__esModule",{value:!0});const tS=eS(ca);let nS=class extends tS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};mo.default=nS;var iS=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});const Pr=iS(mo);let rS=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new Pr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Pr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(d.length>0){const p=[...new Set(d)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new Pr.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Pr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Pr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ua.default=rS;var d_=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jc,"__esModule",{value:!0});const oS=d_(ua),sS=d_(mo);let aS=class f_{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new oS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new f_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||s?(h=r?"HEAD":"GET",Object.entries(n).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{d.searchParams.append(v,w)})):(h="POST",p=n);const _=new Headers(this.headers);return a&&_.set("Prefer",`count=${a}`),new sS.default({method:h,url:d,headers:_,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};jc.default=aS;var tr=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const p_=tr(jc);Xe.PostgrestClient=p_.default;const m_=tr(ua);Xe.PostgrestQueryBuilder=m_.default;const __=tr(mo);Xe.PostgrestFilterBuilder=__.default;const v_=tr(ca);Xe.PostgrestTransformBuilder=v_.default;const g_=tr(ha);Xe.PostgrestBuilder=g_.default;const y_=tr(da);Xe.PostgrestError=y_.default;var lS=Xe.default={PostgrestClient:p_.default,PostgrestQueryBuilder:m_.default,PostgrestFilterBuilder:__.default,PostgrestTransformBuilder:v_.default,PostgrestBuilder:g_.default,PostgrestError:y_.default};const{PostgrestClient:uS,PostgrestQueryBuilder:ux,PostgrestFilterBuilder:cx,PostgrestTransformBuilder:hx,PostgrestBuilder:dx,PostgrestError:fx}=lS;class cS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hS="2.15.5",dS=`realtime-js/${hS}`,fS="1.0.0",Cu=1e4,pS=1e3,mS=100;var Dr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dr||(Dr={}));var Ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ce||(Ce={}));var Lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lt||(Lt={}));var Lu;(function(t){t.websocket="websocket"})(Lu||(Lu={}));var qn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qn||(qn={}));class _S{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+s));u=u+s;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class w_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const wf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=vS(u,t,e,s),a),{})},vS=(t,e,n,r)=>{const s=e.find(h=>h.name===t),a=s==null?void 0:s.type,u=n[t];return a&&!r.includes(a)?S_(a,u):bu(u)},S_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return SS(e,n)}switch(t){case he.bool:return gS(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return yS(e);case he.json:case he.jsonb:return wS(e);case he.timestamp:return kS(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return bu(e);default:return bu(e)}},bu=t=>t,gS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},SS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>S_(e,h))}return t},kS=t=>typeof t=="string"?t.replace(" ","T"):t,k_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Sl{constructor(e,n,r={},s=Cu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sf||(Sf={}));class $r{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,s,a,u),this.pendingDiffs.forEach(d=>{this.state=$r.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$r.syncDiff(this.state,s,a,u),h())}),this.onJoin((s,a,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:u})}),this.onLeave((s,a,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,_)=>{u[p]||(d[p]=_)}),this.map(u,(p,_)=>{const v=a[p];if(v){const w=_.map(O=>O.presence_ref),x=v.map(O=>O.presence_ref),E=_.filter(O=>x.indexOf(O.presence_ref)<0),T=v.filter(O=>w.indexOf(O.presence_ref)<0);E.length>0&&(h[p]=E),T.length>0&&(d[p]=T)}else h[p]=_}),this.syncDiff(a,{joins:h,leaves:d},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(h,d)=>{var p;const _=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),_.length>0){const v=e[h].map(x=>x.presence_ref),w=_.filter(x=>v.indexOf(x.presence_ref)<0);e[h].unshift(...w)}r(h,_,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const _=d.map(v=>v.presence_ref);p=p.filter(v=>_.indexOf(v.presence_ref)<0),e[h]=p,s(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kf||(kf={}));var Ur;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ur||(Ur={}));var Jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class Bc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sl(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new w_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new $r(this),this.broadcastEndpointURL=k_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],_=!!this.bindings[Ur.PRESENCE]&&this.bindings[Ur.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:_}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(Jt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket.setAuth(),x===void 0){e==null||e(Jt.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(E=T==null?void 0:T.length)!==null&&E!==void 0?E:0,k=[];for(let y=0;y<O;y++){const g=T[y],{filter:{event:C,schema:R,table:M,filter:N}}=g,U=x&&x[y];if(U&&U.event===C&&U.schema===R&&U.table===M&&U.filter===N)k.push(Object.assign(Object.assign({},g),{id:U.id}));else{this.unsubscribe(),this.state=Ce.errored,e==null||e(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Jt.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ce.errored,e==null||e(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ce.joined&&e===Ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Sl(this,Lt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:_}=Lt;if(r&&[h,d,p,_].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var E,T,O;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(T=x.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(x=>x.callback(w,r)):(a=this.bindings[u])===null||a===void 0||a.filter(x=>{var E,T,O,k,y,g;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const C=x.id,R=(E=x.filter)===null||E===void 0?void 0:E.event;return C&&((T=n.ids)===null||T===void 0?void 0:T.includes(C))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const C=(y=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return C==="*"||C===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:T,table:O,commit_timestamp:k,type:y,errors:g}=E;w=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:k,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(E))}x.callback(w,r)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Bc.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lt.close,{},e)}_onError(e){this._on(Lt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wf(e.columns,e.old_record)),n}}const kl=()=>{},Xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xS=[1e3,2e3,5e3,1e4],PS=1e4,ES=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TS{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kl,this.ref=0,this.reconnectTimer=null,this.logger=kl,this.conn=null,this.sendBuffer=[],this.serializer=new _S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...u)=>po(async()=>{const{default:h}=await Promise.resolve().then(()=>er);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Lu.websocket}`,this.httpEndpoint=k_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fS}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return qn.Connecting;case Dr.open:return qn.Open;case Dr.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Bc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:s,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${s} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(s,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ES],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:dS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Lt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new w_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,a,u,h,d,p,_;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Cu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Xo.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:kl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:v=>xS[v-1]||PS,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(v,w)=>w(JSON.stringify(v)),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Dc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CS extends Dc{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ou extends Dc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var LS=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const x_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>po(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},bS=()=>LS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield po(()=>Promise.resolve().then(()=>er),void 0)).Response:Response}),Iu=t=>{if(Array.isArray(t))return t.map(n=>Iu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Iu(r)}),e},OS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var si=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const xl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IS=(t,e,n)=>si(void 0,void 0,void 0,function*(){const r=yield bS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const a=t.status||500,u=(s==null?void 0:s.statusCode)||a+"";e(new CS(xl(s),a,u))}).catch(s=>{e(new Ou(xl(s),s))}):e(new Ou(xl(t),t))}),AS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(OS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function _o(t,e,n,r,s,a){return si(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,AS(e,r,s,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>IS(d,h,r))})})}function Us(t,e,n,r){return si(this,void 0,void 0,function*(){return _o(t,"GET",e,n,r)})}function Dt(t,e,n,r,s){return si(this,void 0,void 0,function*(){return _o(t,"POST",e,r,s,n)})}function Au(t,e,n,r,s){return si(this,void 0,void 0,function*(){return _o(t,"PUT",e,r,s,n)})}function RS(t,e,n,r){return si(this,void 0,void 0,function*(){return _o(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function P_(t,e,n,r,s){return si(this,void 0,void 0,function*(){return _o(t,"DELETE",e,r,s,n)})}var He=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const MS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zS{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=x_(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return He(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},xf),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),_=this._getFinalPath(p),v=yield(e=="PUT"?Au:Dt)(this.fetch,`${this.url}/object/${_}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Le(a))return{data:null,error:a};throw a}})}upload(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return He(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:xf.upsert},s),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const v=yield Au(this.fetch,h.toString(),d,{headers:_});return{data:{path:a,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Le(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Dc("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}update(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}copy(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return He(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}download(e,n){return He(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Us(this.fetch,`${this.url}/${s}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Le(h))return{data:null,error:h};throw h}})}info(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Us(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Iu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield RS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r)&&r instanceof Ou){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield P_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}list(e,n,r){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},MS),n),{prefix:e||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}listV2(e,n){return He(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const NS="2.12.1",jS={"X-Client-Info":`storage-js/${NS}`};var vi=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class BS{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},jS),n),this.fetch=x_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vi(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Le(e))return{data:null,error:e};throw e}})}getBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vi(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vi(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield P_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}}class DS extends BS{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new zS(this.url,this.headers,e,this.fetch)}}const $S="2.57.4";let br="";typeof Deno<"u"?br="deno":typeof document<"u"?br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?br="react-native":br="node";const US={"X-Client-Info":`supabase-js-${br}/${$S}`},FS={headers:US},ZS={schema:"public"},WS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HS={};var VS=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const qS=t=>{let e;return t?e=t:typeof fetch>"u"?e=u_:e=fetch,(...n)=>e(...n)},KS=()=>typeof Headers>"u"?c_:Headers,GS=(t,e,n)=>{const r=qS(n),s=KS();return(a,u)=>VS(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new s(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var JS=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function QS(t){return t.endsWith("/")?t:t+"/"}function YS(t,e){var n,r;const{db:s,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:_,global:v}=e,w={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},_),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>JS(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function XS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const E_="2.71.1",ki=30*1e3,Ru=3,Pl=Ru*ki,ek="http://localhost:9999",tk="supabase.auth.token",nk={"X-Client-Info":`gotrue-js/${E_}`},Mu="X-Supabase-Api-Version",T_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ik=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rk=10*60*1e3;class $c extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ok extends $c{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sk(t){return J(t)&&t.name==="AuthApiError"}class C_ extends $c{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zn extends $c{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class fn extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ak(t){return J(t)&&t.name==="AuthSessionMissingError"}class es extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ts extends zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ns extends zn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lk(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pf extends zn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zu extends zn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function El(t){return J(t)&&t.name==="AuthRetryableFetchError"}class Ef extends zn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Nu extends zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tf=` 	
\r=`.split(""),uk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tf.length;e+=1)t[Tf[e].charCodeAt(0)]=-2;for(let e=0;e<Fs.length;e+=1)t[Fs[e].charCodeAt(0)]=e;return t})();function Cf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Fs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Fs[r]),e.queuedBits-=6}}function L_(t,e,n){const r=uk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=u=>{dk(u,r,n)};for(let u=0;u<t.length;u+=1)L_(t.charCodeAt(u),s,a);return e.join("")}function ck(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ck(r,e)}}function dk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fk(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)L_(t.charCodeAt(s),n,r);return new Uint8Array(e)}function pk(t){const e=[];return hk(t,n=>e.push(n)),new Uint8Array(e)}function mk(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Cf(s,n,r)),Cf(null,n,r),e.join("")}function _k(t){return Math.round(Date.now()/1e3)+t}function vk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},b_=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function gk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const O_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>po(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hn=async(t,e)=>{await t.removeItem(e)};class fa{constructor(){this.promise=new fa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fa.promiseConstructor=Promise;function Tl(t){const e=t.split(".");if(e.length!==3)throw new Nu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ik.test(e[r]))throw new Nu("JWT not in base64url format");return{header:JSON.parse(Lf(e[0])),payload:JSON.parse(Lf(e[1])),signature:fk(e[2]),raw:{header:e[0],payload:e[1]}}}async function wk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sk(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){s(u);return}}})()})}function kk(t){return("0"+t.toString(16)).substr(-2)}function xk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,kk).join("")}async function Pk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Ek(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Pk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(t,e,n=!1){const r=xk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await xi(t,`${e}-code-verifier`,s);const a=await Ek(r);return[a,r===a?"plain":"s256"]}const Tk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ck(t){const e=t.headers.get(Mu);if(!e||!e.match(Tk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ok=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(t){if(!Ok.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bf(t){return JSON.parse(JSON.stringify(t))}var Ik=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ak=[502,503,504];async function Of(t){var e;if(!yk(t))throw new zu(Vn(t),0);if(Ak.includes(t.status))throw new zu(Vn(t),t.status);let n;try{n=await t.json()}catch(a){throw new C_(Vn(a),a)}let r;const s=Ck(t);if(s&&s.getTime()>=T_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ef(Vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Ef(Vn(n),t.status,n.weak_password.reasons);throw new ok(Vn(n),t.status||500,r)}const Rk=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function X(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Mu]||(a[Mu]=T_["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await Mk(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Mk(t,e,n,r,s,a){const u=Rk(e,r,s,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new zu(Vn(d),0)}if(h.ok||await Of(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await Of(d)}}function Kt(t){var e;let n=null;Bk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_k(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function If(t){const e=Kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zk(t){return{data:t,error:null}}function Nk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,u=Ik(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function jk(t){return t}function Bk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ll=["global","local","others"];var Dk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class $k{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=O_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ll[0]){if(Ll.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ll.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Dk(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Nk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},_=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:jk});if(_.error)throw _.error;const v=await _.json(),w=(u=_.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(d=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(J(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){yi(e);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yi(e);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yi(e);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yi(e.userId);try{const{data:n,error:r}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}function Af(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Uk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wi={debug:!!(globalThis&&b_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fk extends I_{}async function Zk(t,e,n){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Uk();const Wk={url:ek,storageKey:tk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rf(t,e,n){return await n()}const Si={};class so{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=so.nextInstanceID,so.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Wk),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $k({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=O_(s.fetch),this.lock=s.lock||Rf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Zk:this.lock=Rf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:b_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Af(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Af(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Si[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Si[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lk(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new C_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kt}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:_,password:v,options:w}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await gi(this.storage,this.storageKey)),a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:_,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:E},xform:Kt})}else if("phone"in e){const{phone:_,password:v,options:w}=e;a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Kt})}else throw new ts("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:If})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:If})}else throw new ts("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new es}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,a,u,h,d,p,_,v,w,x;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:O,wallet:k,statement:y,options:g}=e;let C;if(Et())if(typeof k=="object")C=k;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))C=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const R=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const M=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),y?{statement:y}:null));let N;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")N=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)N=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)E=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),T=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${R.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((h=g==null?void 0:g.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((p=g==null?void 0:g.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((v=(_=g==null?void 0:g.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||v===void 0)&&v.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const M=await C.signMessage(new TextEncoder().encode(E),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=M}}try{const{data:O,error:k}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:mk(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Kt});if(k)throw k;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new es}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:k})}catch(O){if(J(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:u}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Kt});if(await hn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new es}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u})}catch(a){if(J(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:u}=e,h=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kt}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new es}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await gi(this.storage,this.storageKey));const{error:v}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:_}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_}}throw new ts("You must provide either an email or phone number.")}catch(h){if(J(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Kt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await gi(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:zk})}catch(a){if(J(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new fn;const{error:s}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:u}=await X(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:u,error:h}=await X(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new ts("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Pl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Zn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Cl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,_)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,_))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gn}):await this._useSession(async n=>{var r,s,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:gn})})}catch(n){if(J(n))return ak(n)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new fn;const u=s.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await gi(this.storage,this.storageKey));const{data:p,error:_}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:gn});if(_)throw _;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:u}=Tl(e.access_token);if(u.exp&&(r=u.exp,s=r<=n),s){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new fn;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new ns("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ns(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ns("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pf("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new ns("No session defined in URL");const _=Math.round(Date.now()/1e3),v=parseInt(h);let w=_+v;d&&(w=parseInt(d));const x=w-_;x*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const E=w-v;_-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,_):_-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,_);const{data:T,error:O}=await this._getUser(a);if(O)throw O;const k={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const u=(r=s.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(sk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=vk(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gi(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(J(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var u,h,d,p,_;const{data:v,error:w}=a;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",x,{headers:this.headers,jwt:(_=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(s)throw s;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:u}=n;if(u)throw u;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Sk(async s=>(s>0&&await wk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(s,a)=>{const u=200*Math.pow(2,s);return a&&El(a)&&Date.now()+u-r<ki})}catch(r){if(this._debug(n,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zn(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await xi(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Cl()}else if(s&&!s.user&&!s.user){const u=await Zn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(s.user=u.user,await hn(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,s)):s.user=Cl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Pl}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),El(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(s.access_token);!h&&(u!=null&&u.user)?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new fn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(s,"error",a),J(a)){const u={session:null,error:a};return El(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=bf(s);await xi(this.storage,this.storageKey,a)}else{const s=bf(n);await xi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ki}ms, refresh threshold is ${Ru} ticks`),s<=Ru&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await gi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await X(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Tl(s.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const _=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+rk>s)return r;const{data:a,error:u}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:E}=await this.getSession();if(E||!x.session)return{data:null,error:E};r=x.session.access_token}const{header:s,payload:a,signature:u,raw:{header:h,payload:d}}=Tl(r);n!=null&&n.allowExpired||Lk(a.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:s,signature:u},error:null}}const _=bk(s.alg),v=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,v,u,pk(`${h}.${d}`)))throw new Nu("Invalid JWT signature");return{data:{claims:a,header:s,signature:u},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}so.nextInstanceID=0;const Hk=so;class Vk extends Hk{constructor(e){super(e)}}var qk=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(v){u(v)}}function d(_){try{p(r.throw(_))}catch(v){u(v)}}function p(_){_.done?a(_.value):s(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Kk{constructor(e,n,r){var s,a,u;this.supabaseUrl=e,this.supabaseKey=n;const h=XS(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:ZS,realtime:HS,auth:Object.assign(Object.assign({},WS),{storageKey:d}),global:FS},_=YS(r??{},p);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=GS(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new uS(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new DS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new U0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:u,flowType:h,lock:d,debug:p},_,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vk({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:h,lock:d,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new TS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gk=(t,e,n)=>new Kk(t,e,n);function Jk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Jk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qk="https://dfogbrhjgobvxbrlhitc.supabase.co",Yk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmb2dicmhqZ29idnhicmxoaXRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwODE5MjIsImV4cCI6MjA3MzY1NzkyMn0.PqMFgGhyIcgp3KFBUeApO4aselF4vVltupN493TbnD8",dn=Gk(Qk,Yk);delete la.Icon.Default.prototype._getIconUrl;const A_=new la.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/252/252025.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]}),Xk=new la.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/9036/9036497.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]}),ex=new la.Icon({iconUrl:"https://maps.gstatic.com/mapfiles/ms2/micons/green-dot.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),tx={shelter:A_,restaurant:Xk},nx=()=>{const[t,e]=B.useState([]),[n,r]=B.useState({}),[s,a]=B.useState(!1),[u,h]=B.useState({name:"",description:"",type:"shelter"}),[d,p]=B.useState(null),[_,v]=B.useState({}),[w,x]=B.useState(null),[E,T]=B.useState([32.9,-117.1]);B.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(g=>{const{latitude:C,longitude:R}=g.coords;x([C,R]),T([C,R])},g=>{console.warn("Could not get location:",g)},{enableHighAccuracy:!0})},[]),B.useEffect(()=>{(async()=>{const{data:M,error:N}=await dn.from("locations").select("*");N||e(M||[]);const{data:U,error:ue}=await dn.from("reviews").select("*");if(!ue){const q={};U.forEach(se=>{q[se.location_id]||(q[se.location_id]=[]),q[se.location_id].push(se)}),r(q)}})();const C=dn.channel("public:locations").on("postgres_changes",{event:"*",schema:"public",table:"locations"},M=>{e(N=>[...N,M.new])}).subscribe(),R=dn.channel("public:reviews").on("postgres_changes",{event:"*",schema:"public",table:"reviews"},M=>{r(N=>({...N,[M.new.location_id]:[...N[M.new.location_id]||[],M.new]}))}).subscribe();return()=>{dn.removeChannel(C),dn.removeChannel(R)}},[]);const O=()=>(A0({click(g){p({lat:g.latlng.lat,lng:g.latlng.lng}),a(!0)}}),null),k=async g=>{if(g.preventDefault(),!d){alert("Please click on the map to set a location.");return}const{data:C,error:R}=await dn.from("locations").insert([{name:u.name,description:u.description,type:u.type,lat:d.lat,lng:d.lng}]);R?(console.error("Error adding location:",R),alert("Error adding location")):(C&&C.length>0&&e([...t,C[0]]),a(!1),h({name:"",description:"",type:"shelter"}),p(null))},y=async g=>{if(!_[g]||_[g].trim()==="")return;const{data:C,error:R}=await dn.from("reviews").insert([{location_id:g,text:_[g]}]);R?(console.error("Error adding review:",R),alert("Error adding review")):v(M=>({...M,[g]:""}))};return V.jsxs("div",{className:"relative w-full h-screen",children:[V.jsxs(M0,{center:[32.9,-117.1],zoom:12,className:"absolute top-0 left-0 w-full h-full z-0",children:[V.jsx(z0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),w&&V.jsx(mf,{position:w,icon:ex,children:V.jsx(_f,{children:"You are here"})}),t.map(g=>{var C,R;return V.jsx(mf,{position:[g.lat,g.lng],icon:tx[(C=g.type)==null?void 0:C.toLowerCase()]||A_,children:V.jsxs(_f,{children:[V.jsxs("div",{children:[V.jsx("strong",{children:g.name})," ",V.jsx("br",{}),g.description," ",V.jsx("br",{}),V.jsxs("em",{children:["Type: ",g.type]})]}),V.jsx("hr",{className:"my-2"}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{children:[V.jsx("input",{type:"text",placeholder:"Add a review",value:_[g.id]||"",onChange:M=>v(N=>({...N,[g.id]:M.target.value})),className:"border border-gray-300 rounded w-full p-1"}),V.jsx("button",{onClick:()=>y(g.id),className:"mt-1 bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Submit"})]}),V.jsx("div",{children:(R=n[g.id])==null?void 0:R.map((M,N)=>V.jsxs("div",{className:"border-t border-gray-200 pt-1 text-sm",children:["- ",M.text]},N))})]})]})},g.id)}),V.jsx(O,{})]}),V.jsx("button",{onClick:()=>a(!0),className:"absolute top-4 left-20 bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 z-50",children:"Add Location"}),s&&V.jsxs("div",{className:"absolute top-24 left-1/2 transform -translate-x-1/2 bg-white shadow-lg p-6 rounded-lg w-80 z-50",children:[V.jsx("h3",{className:"text-lg font-bold mb-2",children:"Add a New Location"}),V.jsxs("form",{onSubmit:k,className:"space-y-3",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium",children:"Name:"}),V.jsx("input",{type:"text",value:u.name,onChange:g=>h({...u,name:g.target.value}),required:!0,className:"border border-gray-300 w-full rounded p-2"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium",children:"Description:"}),V.jsx("textarea",{value:u.description,onChange:g=>h({...u,description:g.target.value}),required:!0,className:"border border-gray-300 w-full rounded p-2"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium",children:"Type:"}),V.jsxs("select",{value:u.type,onChange:g=>h({...u,type:g.target.value}),className:"border border-gray-300 w-full rounded p-2",children:[V.jsx("option",{value:"shelter",children:"Shelter"}),V.jsx("option",{value:"restaurant",children:"Restaurant"})]})]}),V.jsx("div",{children:"Please Click the Map to Select the Location."}),V.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Save"}),V.jsx("button",{type:"button",onClick:()=>{a(!1),p(null)},className:"ml-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})]})};function ix(){return V.jsx(g0,{children:V.jsx(m0,{children:V.jsx(i_,{path:"/",element:V.jsx(nx,{})})})})}bl.createRoot(document.getElementById("root")).render(V.jsx(Fr.StrictMode,{children:V.jsx(ix,{})}));
